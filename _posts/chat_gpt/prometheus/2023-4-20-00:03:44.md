Question:

Reply in Chinese (Simplified).
The following is a search input in a search engine, giving useful content or solutions and as much information as you can related to it, use markdown syntax to make your answer more readable, such as code blocks, bold, list:
Prometheusç›‘æ§é¢†åŸŸä¸­çš„ retention time ã€ retention size

Answer:

æ‚¨å¥½ï¼Œè¿™æ˜¯å¿…åº”ã€‚æˆ‘å¯ä»¥å¸®æ‚¨äº†è§£Prometheusç›‘æ§é¢†åŸŸä¸­çš„ retention time å’Œ retention size çš„å«ä¹‰å’Œç”¨æ³•ã€‚

Prometheusæ˜¯ä¸€ä¸ªå¼€æºçš„ç›‘æ§å’Œå‘Šè­¦ç³»ç»Ÿï¼Œå®ƒå¯ä»¥æ”¶é›†å’Œå­˜å‚¨æ—¶é—´åºåˆ—æ•°æ®ï¼Œä¾‹å¦‚æŒ‡æ ‡ã€äº‹ä»¶å’Œæ—¥å¿—ã€‚Prometheusä½¿ç”¨æœ¬åœ°ç£ç›˜å­˜å‚¨æ•°æ®ï¼Œæ¯ä¸ªæ•°æ®å—åŒ…å«ä¸€æ®µæ—¶é—´èŒƒå›´å†…çš„æ ·æœ¬ã€‚Prometheuså¯ä»¥é€šè¿‡ä»¥ä¸‹å‚æ•°é…ç½®å­˜å‚¨çš„è¡Œä¸ºï¼š

- `--storage.tsdb.path`ï¼šPrometheuså†™å…¥æ•°æ®åº“çš„è·¯å¾„ã€‚é»˜è®¤ä¸º`data/`ã€‚
- `--storage.tsdb.retention.time`ï¼šä½•æ—¶åˆ é™¤æ—§æ•°æ®ã€‚é»˜è®¤ä¸º`15d`ã€‚å¦‚æœè¿™ä¸ªå‚æ•°è®¾ç½®ä¸ºé™¤äº†é»˜è®¤å€¼ä»¥å¤–çš„ä»»ä½•å€¼ï¼Œå®ƒä¼šè¦†ç›–`storage.tsdb.retention`å‚æ•°ã€‚
- `--storage.tsdb.retention.size`ï¼šä¿ç•™çš„å­˜å‚¨å—çš„æœ€å¤§å­—èŠ‚æ•°ã€‚

è¿™ä¸¤ä¸ªå‚æ•°å¯ä»¥ç”¨æ¥æ§åˆ¶Prometheuså ç”¨çš„ç£ç›˜ç©ºé—´ï¼Œä»¥åŠæä¾›å¤šé•¿æ—¶é—´çš„å†å²æ•°æ®ã€‚å®ƒä»¬ä¹‹é—´æœ‰ä¸€äº›å…³ç³»å’Œé™åˆ¶ï¼Œä¾‹å¦‚  ï¼š

- å¦‚æœä¸¤ä¸ªå‚æ•°éƒ½è®¾ç½®äº†ï¼Œé‚£ä¹ˆä»»æ„ä¸€ä¸ªè¾¾åˆ°é˜ˆå€¼æ—¶ï¼Œå°±ä¼šåˆ é™¤è¿‡æœŸçš„æ•°æ®ã€‚
- è¿™ä¸¤ä¸ªå‚æ•°éƒ½æ˜¯æœ€ä½é™åº¦ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä»¬ä¸ä¼šåˆ é™¤è¿˜åœ¨ä¿ç•™æ—¶é—´æˆ–ä¿ç•™å¤§å°èŒƒå›´å†…çš„æ•´ä¸ªæ•°æ®å—ã€‚
- è¿™ä¸¤ä¸ªå‚æ•°éƒ½ä¸åŒ…æ‹¬WALï¼ˆå†™å‰æ—¥å¿—ï¼‰æˆ–è€…æ­£åœ¨è¢«å‹ç¼©çš„æ•°æ®å—å ç”¨çš„ç©ºé—´ã€‚

å¦‚æœæ‚¨æƒ³äº†è§£æ›´å¤šå…³äºPrometheuså­˜å‚¨çš„ç»†èŠ‚ï¼Œè¯·å‚è€ƒä»¥ä¸‹ç½‘å€ï¼š

- : https://prometheus.io/docs/prometheus/latest/storage/
- : https://icloudnative.io/prometheus/3-prometheus/storage.html
- : https://cloud.tencent.com/developer/article/1765043
- : https://www.robustperception.io/configuring-prometheus-storage-retention/

å¸Œæœ›è¿™äº›ä¿¡æ¯å¯¹æ‚¨æœ‰å¸®åŠ©ã€‚ğŸ˜Š


<hr/>

