Question:

Reply in Chinese (Simplified).Analyze the following content and express your opinion,or give your answer:
"This node evaluates the passed expression as a subquery over the last 1h at a query resolution equal to the default rule evaluation interval."

Answer:

æ‚¨å¥½ï¼Œè¿™æ˜¯å¿…åº”ã€‚æˆ‘ä¼šç”¨ç®€ä½“ä¸­æ–‡å›å¤æ‚¨ã€‚ğŸ˜Š

æ ¹æ®æœç´¢ç»“æœ<sup>1</sup> <sup>2</sup> <sup>3</sup> <sup>4</sup> <sup>5</sup>ï¼Œå­æŸ¥è¯¢æ˜¯ä¸€ä¸ªåµŒå¥—åœ¨å¦ä¸€ä¸ªæŸ¥è¯¢è¯­å¥ä¸­çš„æŸ¥è¯¢ï¼Œå¯ä»¥ç”¨åœ¨ SELECT, INSERT, UPDATE æˆ– DELETE è¯­å¥ä¸­ï¼Œæˆ–è€…åœ¨å¦ä¸€ä¸ªå­æŸ¥è¯¢ä¸­ã€‚å­æŸ¥è¯¢å¿…é¡»ç”¨æ‹¬å· () åŒ…å›´ã€‚

è¿™ä¸ªèŠ‚ç‚¹çš„ä½œç”¨æ˜¯å°†ä¼ é€’çš„è¡¨è¾¾å¼ä½œä¸ºä¸€ä¸ªå­æŸ¥è¯¢ï¼Œåœ¨è¿‡å»çš„ 1 å°æ—¶å†…ï¼Œä»¥ä¸é»˜è®¤è§„åˆ™è¯„ä¼°é—´éš”ç›¸ç­‰çš„æŸ¥è¯¢åˆ†è¾¨ç‡æ‰§è¡Œã€‚è¿™æ„å‘³ç€è¿™ä¸ªèŠ‚ç‚¹å¯ä»¥æ ¹æ®è¡¨è¾¾å¼çš„ç»“æœå¯¹è¿‡å» 1 å°æ—¶å†…çš„æ•°æ®è¿›è¡Œç­›é€‰æˆ–åˆ†æã€‚

æˆ‘çš„çœ‹æ³•æ˜¯ï¼Œè¿™ä¸ªèŠ‚ç‚¹å¯ä»¥ç”¨æ¥å®ç°ä¸€äº›å¤æ‚çš„æŸ¥è¯¢é€»è¾‘ï¼Œæ¯”å¦‚æ ¹æ®è¿‡å» 1 å°æ—¶å†…çš„æŸäº›æ¡ä»¶æˆ–æŒ‡æ ‡æ¥é€‰æ‹©æˆ–æ›´æ–°æ•°æ®ã€‚ä½†æ˜¯ï¼Œè¿™ä¸ªèŠ‚ç‚¹ä¹Ÿå¯èƒ½ä¼šå½±å“æŸ¥è¯¢æ€§èƒ½ï¼Œå› ä¸ºå®ƒéœ€è¦åœ¨æ¯ä¸ªè§„åˆ™è¯„ä¼°é—´éš”æ‰§è¡Œä¸€æ¬¡å­æŸ¥è¯¢ã€‚æ‰€ä»¥ï¼Œä½¿ç”¨è¿™ä¸ªèŠ‚ç‚¹æ—¶éœ€è¦æ³¨æ„ä¼˜åŒ–è¡¨è¾¾å¼å’Œè§„åˆ™è¯„ä¼°é—´éš”ï¼Œé¿å…ä¸å¿…è¦çš„å¼€é”€ã€‚

\-
\[1]: [Subqueries (SQL Server) - SQL Server | Microsoft Learn](https://learn.microsoft.com/en-us/sql/relational-databases/performance/subqueries?view=sql-server-ver16)
\[2]: [Subqueries | BigQuery | Google Cloud](https://cloud.google.com/bigquery/docs/reference/standard-sql/subqueries)
\[3]: [SQL Subquery | Nested query - Dofactory](https://www.dofactory.com/sql/subquery)
\[4]: [SQL Subquery: An Ultimate Guide with Practical Examples](https://www.sqltutorial.org/sql-subquery/)
\[5]: [SQL Subqueries - w3resource](https://www.w3resource.com/sql/subqueries/understanding-sql-subqueries.php)

<hr/>

Question:

é»˜è®¤è§„åˆ™è¯„ä¼°é—´éš”

Answer:

æ ¹æ®æœç´¢ç»“æœ<sup>1</sup> <sup>2</sup> <sup>3</sup> <sup>4</sup>ï¼Œé»˜è®¤è§„åˆ™è¯„ä¼°é—´éš”æ˜¯æŒ‡åœ¨æ¯ä¸ªè§„åˆ™è¯„ä¼°å‘¨æœŸä¸­ï¼Œæ‰§è¡Œè§„åˆ™ä¸­å®šä¹‰çš„æŸ¥è¯¢è¡¨è¾¾å¼çš„æ—¶é—´é—´éš”ã€‚ä¸åŒçš„ç³»ç»Ÿæˆ–å¹³å°å¯èƒ½æœ‰ä¸åŒçš„é»˜è®¤å€¼ï¼Œæ¯”å¦‚ **Prometheus** çš„é»˜è®¤å€¼æ˜¯æ¯ **1 åˆ†é’Ÿ**<sup>1</sup> <sup>2</sup> <sup>3</sup>ï¼Œè€Œ **Azure Monitor** çš„é»˜è®¤å€¼ä¹Ÿæ˜¯æ¯ **1 åˆ†é’Ÿ**<sup>4</sup>ã€‚è§„åˆ™è¯„ä¼°é—´éš”çš„è®¾ç½®ä¼šå½±å“è§„åˆ™çš„è§¦å‘é¢‘ç‡å’ŒæŸ¥è¯¢çš„æ€§èƒ½ï¼Œæ‰€ä»¥éœ€è¦æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œè°ƒæ•´ã€‚

\-
\[1]: [prometheus/documentation/examples/prometheus.yml at main - GitHub](https://github.com/prometheus/prometheus/blob/main/documentation/examples/prometheus.yml)
\[2]: [scrape interval and evaluation interval in prometheus](https://stackoverflow.com/questions/52167869/scrape-interval-and-evaluation-interval-in-prometheus)
\[3]: [Prometheus.ymlã®è¨˜è¿°å†…å®¹ã‚’è§£èª¬ã™ã‚‹ - Qiita](https://qiita.com/mtsiga/items/f456721149f863ac0346)
\[4]: [Azure Monitor service limits - Azure Monitor | Microsoft Learn](https://learn.microsoft.com/en-us/azure/azure-monitor/service-limits)

<hr/>

Question:

Prometheus é»˜è®¤è§„åˆ™è¯„ä¼°é—´éš” å¦‚ä½•è®¾ç½® ï¼Ÿ

Answer:

æ ¹æ®æœç´¢ç»“æœ<sup>1</sup> <sup>2</sup> <sup>3</sup> <sup>4</sup> <sup>5</sup>ï¼Œè¦è®¾ç½® **Prometheus** çš„é»˜è®¤è§„åˆ™è¯„ä¼°é—´éš”ï¼Œæ‚¨éœ€è¦åœ¨ **prometheus.yml** æ–‡ä»¶ä¸­æ·»åŠ æˆ–ä¿®æ”¹ **evaluation_interval** å‚æ•°ã€‚è¿™ä¸ªå‚æ•°å¯ä»¥åœ¨å…¨å±€æˆ–è€…æ¯ä¸ªè§„åˆ™ç»„ä¸­è®¾ç½®ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æƒ³è®©æ‰€æœ‰çš„è§„åˆ™æ¯ **15 ç§’** è¯„ä¼°ä¸€æ¬¡ï¼Œæ‚¨å¯ä»¥åœ¨å…¨å±€ä¸­è®¾ç½®ï¼š

```yaml
global:
  evaluation_interval: 15s # Evaluate rules every 15 seconds.
```

å¦‚æœæ‚¨æƒ³è®©æŸä¸ªè§„åˆ™ç»„æ¯ **30 ç§’** è¯„ä¼°ä¸€æ¬¡ï¼Œæ‚¨å¯ä»¥åœ¨è¯¥è§„åˆ™ç»„ä¸­è®¾ç½®ï¼š

```yaml
groups:
- name: example
  evaluation_interval: 30s # Evaluate rules in this group every 30 seconds.
  rules:
  - record: job:http_inprogress_requests:sum
    expr: sum by (job) (http_inprogress_requests)
```

è®¾ç½®å¥½ä¹‹åï¼Œæ‚¨éœ€è¦é‡å¯ **Prometheus** æœåŠ¡ï¼Œè®©æ–°çš„é…ç½®ç”Ÿæ•ˆã€‚

\-
\[1]: [Getting started | Prometheus](https://prometheus.io/docs/prometheus/latest/getting_started/)
\[2]: [Using Prometheus Recording Rules to Your Advantage - Chronosphere](https://chronosphere.io/learn/prometheus-recording-rules-right-tool/)
\[3]: [Prometheus Tutorial: A Detailed Guide to Getting Started](https://www.sentinelone.com/blog/prometheus-tutorial-detailed-guide-to-getting-started/)
\[4]: [Recording rules | Prometheus](https://prometheus.io/docs/prometheus/latest/configuration/recording_rules/)
\[5]: [scrape interval and evaluation interval in prometheus](https://stackoverflow.com/questions/52167869/scrape-interval-and-evaluation-interval-in-prometheus)

<hr/>

