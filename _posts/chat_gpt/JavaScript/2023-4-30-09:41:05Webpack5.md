---
layout: post
categories: JavaScript
---
Question:

Reply in Chinese (Simplified).
The following is a search input in a search engine, giving useful content or solutions and as much information as you can related to it, use markdown syntax to make your answer more readable, such as code blocks, bold, list:
Webpack5

Answer:

æ‚¨å¥½ï¼Œè¿™æ˜¯ Bingã€‚æˆ‘å°†ç”¨ä¸­æ–‡ï¼ˆç®€ä½“ï¼‰å›å¤æ‚¨ã€‚ğŸ˜Š

Webpack5 æ˜¯ä¸€ä¸ªæµè¡Œçš„ JavaScript æ¨¡å—æ‰“åŒ…å™¨ï¼Œå®ƒå¯ä»¥å°†å¤šä¸ªæ¨¡å—å’Œèµ„æºè½¬æ¢ä¸ºä¸€ä¸ªæˆ–å¤šä¸ªä¼˜åŒ–çš„æ–‡ä»¶ï¼Œä»¥ä¾¿åœ¨æµè§ˆå™¨æˆ–å…¶ä»–ç¯å¢ƒä¸­è¿è¡Œã€‚<sup>1</sup> <sup>3</sup>

Webpack5 äº 2020 å¹´ 10 æœˆ 10 æ—¥å‘å¸ƒï¼Œç›¸æ¯”äº Webpack4ï¼Œå®ƒæœ‰ä»¥ä¸‹ä¸»è¦çš„æ”¹è¿›å’Œæ–°ç‰¹æ€§ï¼š<sup>1</sup> <sup>2</sup> <sup>3</sup>

- æ”¯æŒæ¨¡å—è”é‚¦ï¼ˆModule Federationï¼‰ï¼Œå…è®¸å¤šä¸ªç‹¬ç«‹çš„æ„å»ºå…±äº«æ¨¡å—ï¼Œå®ç°å¾®å‰ç«¯æ¶æ„ã€‚
- æ”¯æŒæŒä¹…åŒ–ç¼“å­˜ï¼ˆPersistent Cachingï¼‰ï¼Œå¯ä»¥æ˜¾è‘—æé«˜æ„å»ºé€Ÿåº¦å’Œæ€§èƒ½ã€‚
- æ”¯æŒ WebAssembly å’Œ Node.js çš„ ESM æ¨¡å—ã€‚
- æ”¯æŒæ›´å¤šçš„ä»£ç åˆ†å‰²ï¼ˆCode Splittingï¼‰ç­–ç•¥ï¼Œå¦‚æŒ‰éœ€åŠ è½½å’Œå…±äº«æ¨¡å—ã€‚
- æ”¹è¿›äº† Tree Shaking å’Œ Dead Code Eliminationï¼Œå‡å°‘äº†è¾“å‡ºæ–‡ä»¶çš„å¤§å°ã€‚
- ç§»é™¤äº†ä¸€äº›è¿‡æ—¶çš„æ’ä»¶å’ŒåŠ è½½å™¨ï¼Œå¦‚ Node.js polyfills å’Œ JSON5 loaderã€‚
- ä¿®æ”¹äº†ä¸€äº›é»˜è®¤å€¼å’Œé…ç½®é€‰é¡¹ï¼Œä½¿å…¶æ›´ç¬¦åˆç°ä»£æ ‡å‡†å’Œæœ€ä½³å®è·µã€‚

å¦‚æœæ‚¨æƒ³ä» Webpack4 è¿ç§»åˆ° Webpack5ï¼Œæ‚¨å¯ä»¥å‚è€ƒå®˜æ–¹çš„è¿ç§»æŒ‡å—<sup>2</sup>ï¼Œå…¶ä¸­åŒ…å«äº†ä¸€äº›å¸¸è§çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆã€‚æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ webpack-cli çš„ migrate å‘½ä»¤æ¥è‡ªåŠ¨æ›´æ–°æ‚¨çš„é…ç½®æ–‡ä»¶ã€‚

å¦‚æœæ‚¨æƒ³äº†è§£æ›´å¤šå…³äº Webpack5 çš„ä¿¡æ¯ï¼Œæ‚¨å¯ä»¥è®¿é—®å®˜æ–¹ç½‘ç«™<sup>1</sup> æˆ–ä¸­æ–‡æ–‡æ¡£<sup>3</sup>ï¼Œæˆ–è€…åœ¨æœç´¢æ¡†ä¸­è¾“å…¥æ›´å…·ä½“çš„é—®é¢˜ã€‚

\-
\[1]: [Webpack 5 release (2020-10-10) | webpack](https://webpack.js.org/blog/2020-10-10-webpack-5-release/)
\[2]: [Webpack 5 å‘å¸ƒ (2020-10-10) | webpack ä¸­æ–‡æ–‡æ¡£](https://webpack.docschina.org/blog/2020-10-10-webpack-5-release/)
\[3]: [To v5 from v4 | webpack](https://webpack.js.org/migrate/5/)

<hr/>

Question:

ä¸Šæ–‡ä¸­çš„â€œES Modulesâ€æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ

Answer:

ES Modules æ˜¯ ECMAScript æ ‡å‡†ä¸­å®šä¹‰çš„ JavaScript æ¨¡å—æ ¼å¼ï¼Œå®ƒæ˜¯å®˜æ–¹çš„æ ‡å‡†æ ¼å¼ï¼Œç”¨äºæ‰“åŒ…å’Œå¤ç”¨ JavaScript ä»£ç ã€‚<sup>2</sup> <sup>5</sup>

ES Modules é€šè¿‡ä½¿ç”¨ import å’Œ export è¯­å¥æ¥å®šä¹‰æ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»å’Œå¯¼å‡ºå†…å®¹ã€‚<sup>5</sup> <sup>6</sup>

ä¾‹å¦‚ï¼Œä¸‹é¢çš„ ES Module å¯¼å‡ºäº†ä¸€ä¸ªå‡½æ•°ï¼š

```js
// addTwo.mjs
function addTwo (num) {
  return num + 2;
}
export { addTwo };
```

ä¸‹é¢çš„ ES Module å¯¼å…¥äº†ä¸Šé¢çš„å‡½æ•°ï¼Œå¹¶ä½¿ç”¨å®ƒï¼š

```js
// main.mjs
import { addTwo } from './addTwo.mjs';
console.log(addTwo(3)); // 5
```

ES Modules ç›¸æ¯”äº Node.js ä½¿ç”¨çš„ CommonJS æ ‡å‡†ï¼Œæœ‰ä»¥ä¸‹ä¸€äº›ä¼˜åŠ¿ï¼š<sup>2</sup> <sup>6</sup>

- ES Modules æ”¯æŒé™æ€åˆ†æï¼Œå¯ä»¥åœ¨ç¼–è¯‘æ—¶ç¡®å®šæ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œä»è€Œå®ç°æ›´å¥½çš„ä¼˜åŒ–å’Œé”™è¯¯æ£€æµ‹ã€‚
- ES Modules æ”¯æŒå¼‚æ­¥åŠ è½½ï¼Œå¯ä»¥å®ç°æŒ‰éœ€åŠ è½½å’Œä»£ç åˆ†å‰²ï¼Œæé«˜æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒã€‚
- ES Modules æ˜¯æµè§ˆå™¨åŸç”Ÿæ”¯æŒçš„æ¨¡å—æ ¼å¼ï¼Œå¯ä»¥ç›´æ¥åœ¨æµè§ˆå™¨ä¸­è¿è¡Œï¼Œè€Œä¸éœ€è¦é¢å¤–çš„è½¬æ¢æˆ–æ‰“åŒ…å·¥å…·ã€‚

å¦‚æœæ‚¨æƒ³äº†è§£æ›´å¤šå…³äº ES Modules çš„ä¿¡æ¯ï¼Œæ‚¨å¯ä»¥è®¿é—®ä»¥ä¸‹ç½‘ç«™<sup>1</sup> <sup>3</sup> <sup>4</sup> <sup>5</sup> <sup>6</sup>ï¼Œæˆ–è€…åœ¨æœç´¢æ¡†ä¸­è¾“å…¥æ›´å…·ä½“çš„é—®é¢˜ã€‚

\-
\[1]: [CommonJS vs ES Modules in Node.js - A Detailed Comparison - KnowledgeHut](https://www.knowledgehut.com/blog/web-development/commonjs-vs-es-modules)
\[2]: [Modules: ECMAScript modules | Node.js v20.0.0 Documentation](https://nodejs.org/api/esm.html)
\[3]: [The JavaScript Modules Handbook â€“ Complete Guide to ES Modules and ...](https://www.freecodecamp.org/news/javascript-es-modules-and-module-bundlers/)
\[4]: [ES Modules, the JavaScript Module System - Flavio Copes](https://flaviocopes.com/es-modules/)
\[5]: [Using ES modules in browsers with import-maps - LogRocket Blog](https://blog.logrocket.com/es-modules-in-browsers-with-import-maps/)
\[6]: [ES modules: A cartoon deep-dive - the Web developer blog](https://hacks.mozilla.org/2018/03/es-modules-a-cartoon-deep-dive/)

<hr/>

Question:

ä¸Šæ–‡ä¸­"Tree Shaking å’Œä»£ç åˆ†å‰²ï¼ˆCode Splittingï¼‰"æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ

Answer:

Tree Shaking å’Œä»£ç åˆ†å‰²ï¼ˆCode Splittingï¼‰æ˜¯ä¸¤ç§å‡å°‘ JavaScript æ‰“åŒ…æ–‡ä»¶å¤§å°çš„æŠ€æœ¯ã€‚<sup>1</sup> <sup>2</sup> <sup>3</sup>

Tree Shaking æ˜¯åœ¨æ‰“åŒ…è¿‡ç¨‹ä¸­åˆ é™¤æœªä½¿ç”¨çš„ä»£ç çš„è¿‡ç¨‹ï¼Œå®ƒé€šè¿‡é™æ€åˆ†ææºä»£ç ï¼Œç¡®å®šå“ªäº›ä»£ç æ˜¯å¤šä½™çš„ï¼Œç„¶åæ’é™¤å®ƒä»¬ã€‚<sup>1</sup> <sup>2</sup> <sup>3</sup>

ä»£ç åˆ†å‰²ï¼ˆCode Splittingï¼‰æ˜¯å°†ä»£ç æŒ‰ç…§ä¸€å®šçš„è§„åˆ™åˆ†ç»„ä¸ºå¤šä¸ªå°çš„æ–‡ä»¶çš„è¿‡ç¨‹ï¼Œè¿™æ ·å¯ä»¥æŒ‰éœ€åŠ è½½æ‰€éœ€çš„æ–‡ä»¶ï¼Œæé«˜æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒã€‚<sup>1</sup> <sup>3</sup>

Webpack5 æ”¯æŒ Tree Shaking å’Œä»£ç åˆ†å‰²ï¼ˆCode Splittingï¼‰ï¼Œå¹¶ä¸”æä¾›äº†ä¸€äº›é…ç½®é€‰é¡¹å’Œæ’ä»¶æ¥ä¼˜åŒ–è¿™ä¸¤ä¸ªè¿‡ç¨‹ã€‚<sup>3</sup>

å¦‚æœæ‚¨æƒ³äº†è§£æ›´å¤šå…³äº Tree Shaking å’Œä»£ç åˆ†å‰²ï¼ˆCode Splittingï¼‰çš„ä¿¡æ¯ï¼Œæ‚¨å¯ä»¥è®¿é—®ä»¥ä¸‹ç½‘ç«™<sup>1</sup> <sup>2</sup> <sup>3</sup> <sup>4</sup>ï¼Œæˆ–è€…åœ¨æœç´¢æ¡†ä¸­è¾“å…¥æ›´å…·ä½“çš„é—®é¢˜ã€‚

\-
\[1]: [Lessons on tree-shaking Lodash with Webpack and Babel](https://www.azavea.com/blog/2019/03/07/lessons-on-tree-shaking-lodash/)
\[2]: [Tree Shaking - How to Clean up Your JavaScript - KeyCDN](https://www.keycdn.com/blog/tree-shaking)
\[3]: [Tree shaking and code splitting in webpack - LogRocket Blog](https://blog.logrocket.com/tree-shaking-and-code-splitting-in-webpack/)
\[4]: [Rollup | Rollup](https://rollupjs.org/)

<hr/>

Question:

ä¸Šæ–‡ä¸­â€œç§»é™¤äº† Node.js çš„ polyfillï¼ˆå«ç‰‡ï¼‰ï¼Œå‡å°‘äº† bundle çš„å¤§å°â€æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ

Answer:

Polyfillï¼ˆå«ç‰‡ï¼‰æ˜¯ä¸€ç§ç”¨äºå¡«è¡¥æµè§ˆå™¨æˆ–è€… Node.js ä¸­ç¼ºå°‘çš„åŠŸèƒ½çš„ä»£ç ï¼Œä¾‹å¦‚ Promiseï¼ŒArray.prototype.includes ç­‰ã€‚<sup>1</sup> <sup>2</sup>

Webpack æ˜¯ä¸€ç§ JavaScript æ‰“åŒ…å·¥å…·ï¼Œå®ƒå¯ä»¥å°†å¤šä¸ª JavaScript æ–‡ä»¶åˆå¹¶ä¸ºä¸€ä¸ªæˆ–è€…å¤šä¸ª bundle æ–‡ä»¶ï¼Œä»¥ä¾¿äºéƒ¨ç½²å’ŒåŠ è½½ã€‚<sup>2</sup> <sup>3</sup>

Webpack 5 æ˜¯æœ€æ–°çš„ç‰ˆæœ¬ï¼Œå®ƒç§»é™¤äº† Node.js çš„ polyfillï¼ˆå«ç‰‡ï¼‰ï¼Œè¿™æ„å‘³ç€å¦‚æœä½ çš„ä»£ç ä¸­ä½¿ç”¨äº† Node.js çš„æ ¸å¿ƒæ¨¡å—ï¼Œä¾‹å¦‚ cryptoï¼Œpath ç­‰ï¼Œä½ éœ€è¦è‡ªå·±æä¾›ç›¸åº”çš„ polyfillï¼ˆå«ç‰‡ï¼‰ã€‚<sup>1</sup> <sup>3</sup>

ç§»é™¤äº† Node.js çš„ polyfillï¼ˆå«ç‰‡ï¼‰ï¼Œå‡å°‘äº† bundle çš„å¤§å°ï¼Œæ˜¯æŒ‡åœ¨ Webpack 5 ä¸­ï¼Œç”±äºä¸å†è‡ªåŠ¨åŒ…å« Node.js çš„ polyfillï¼ˆå«ç‰‡ï¼‰ï¼Œæ‰€ä»¥ç”Ÿæˆçš„ bundle æ–‡ä»¶ä¼šæ›´å°ï¼Œè¿™æœ‰åˆ©äºæé«˜æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒã€‚<sup>1</sup> <sup>4</sup>

å¦‚æœæ‚¨æƒ³äº†è§£æ›´å¤šå…³äº polyfillï¼ˆå«ç‰‡ï¼‰å’Œ Webpack 5 çš„ä¿¡æ¯ï¼Œæ‚¨å¯ä»¥è®¿é—®ä»¥ä¸‹ç½‘ç«™<sup>1</sup> <sup>2</sup> <sup>3</sup> <sup>4</sup>ï¼Œæˆ–è€…åœ¨æœç´¢æ¡†ä¸­è¾“å…¥æ›´å…·ä½“çš„é—®é¢˜ã€‚

\-
\[1]: [node.js - Angular polyfill.ts file help. Where does the polyfill code ...](https://stackoverflow.com/questions/70128970/angular-polyfill-ts-file-help-where-does-the-polyfill-code-go-and-what-is-requ)
\[2]: [Code Splitting | webpack](https://webpack.js.org/guides/code-splitting/)
\[3]: [node.js - How to Polyfill node core modules in webpack 5 - Stack Overflow](https://stackoverflow.com/questions/64557638/how-to-polyfill-node-core-modules-in-webpack-5)
\[4]: [node.js - Webpack 4 - create vendor chunk - Stack Overflow](https://stackoverflow.com/questions/48985780/webpack-4-create-vendor-chunk)

<hr/>

