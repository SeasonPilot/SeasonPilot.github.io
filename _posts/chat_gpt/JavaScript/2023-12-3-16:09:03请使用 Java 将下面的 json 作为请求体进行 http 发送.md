Question:

Reply in Chinese (Simplified).
The following is a search input in a search engine, giving useful content or solutions and as much information as you can related to it, use markdown syntax to make your answer more readable, such as code blocks, bold, list:
è¯·ä½¿ç”¨ Java å°†ä¸‹é¢çš„ json ä½œä¸ºè¯·æ±‚ä½“è¿›è¡Œ http å‘é€

Answer:

æ‚¨å¥½ï¼Œè¿™æ˜¯å¿…åº”ã€‚æˆ‘å¯ä»¥ç”¨ç®€ä½“ä¸­æ–‡å›å¤æ‚¨ã€‚ğŸ˜Š

è¦ä½¿ç”¨ Java å°† json ä½œä¸ºè¯·æ±‚ä½“è¿›è¡Œ http å‘é€ï¼Œæ‚¨å¯ä»¥å‚è€ƒä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š

1. åˆ›å»ºä¸€ä¸ª URL å¯¹è±¡ï¼ŒæŒ‡å®šç›®æ ‡ URI å­—ç¬¦ä¸²ã€‚
2. ä½¿ç”¨ URL å¯¹è±¡çš„ openConnection æ–¹æ³•è·å–ä¸€ä¸ª HttpURLConnection å¯¹è±¡ã€‚è¿™æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œä¸èƒ½ç›´æ¥å®ä¾‹åŒ–ã€‚
3. è®¾ç½® HttpURLConnection å¯¹è±¡çš„ä¸€äº›å±æ€§ï¼Œå¦‚è¯·æ±‚æ–¹æ³•ï¼ˆPOSTï¼‰ã€è¯·æ±‚å¤´ï¼ˆcontent-type: application/jsonï¼‰ç­‰ã€‚
4. åˆ›å»ºä¸€ä¸ª StringEntity å¯¹è±¡ï¼Œå°† json å­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œå¹¶è®¾ç½®å…¶å†…å®¹ç±»å‹ä¸º ContentType.APPLICATION_JSONã€‚
5. ä½¿ç”¨ HttpURLConnection å¯¹è±¡çš„ setDoOutput æ–¹æ³•å…è®¸è¾“å‡ºæµï¼Œå¹¶ä½¿ç”¨ getOutputStream æ–¹æ³•è·å–ä¸€ä¸ªè¾“å‡ºæµã€‚
6. ä½¿ç”¨ StringEntity å¯¹è±¡çš„ writeTo æ–¹æ³•å°† json æ•°æ®å†™å…¥è¾“å‡ºæµã€‚
7. å…³é—­è¾“å‡ºæµå¹¶æ–­å¼€è¿æ¥ã€‚
8. ä½¿ç”¨ HttpURLConnection å¯¹è±¡çš„ getResponseCode æ–¹æ³•è·å–å“åº”ç ï¼Œå¹¶æ ¹æ®éœ€è¦å¤„ç†å“åº”ã€‚

ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ä»£ç ï¼Œå‡è®¾æ‚¨è¦å‘é€çš„ json å¦‚ä¸‹ï¼š

```json
{
  "name": "å¼ ä¸‰",
  "age": 25,
  "gender": "ç”·"
}
```

```java
import java.io.IOException;
import java.io.OutputStream;
import java.net.HttpURLConnection;
import java.net.URL;
import org.apache.http.entity.ContentType;
import org.apache.http.entity.StringEntity;

public class JsonPostExample {

    public static void main(String[] args) throws IOException {
        // åˆ›å»º URL å¯¹è±¡
        URL url = new URL("http://example.com/api/users");
        // è·å– HttpURLConnection å¯¹è±¡
        HttpURLConnection con = (HttpURLConnection) url.openConnection();
        // è®¾ç½®è¯·æ±‚æ–¹æ³•ä¸º POST
        con.setRequestMethod("POST");
        // è®¾ç½®è¯·æ±‚å¤´ content-type ä¸º application/json
        con.setRequestProperty("Content-Type", "application/json");
        // åˆ›å»º StringEntity å¯¹è±¡ï¼Œä¼ å…¥ json å­—ç¬¦ä¸²
        StringEntity entity = new StringEntity("{\"name\": \"å¼ ä¸‰\", \"age\": 25, \"gender\": \"ç”·\"}", ContentType.APPLICATION_JSON);
        // å…è®¸è¾“å‡ºæµ
        con.setDoOutput(true);
        // è·å–è¾“å‡ºæµ
        OutputStream os = con.getOutputStream();
        // å°† json æ•°æ®å†™å…¥è¾“å‡ºæµ
        entity.writeTo(os);
        // å…³é—­è¾“å‡ºæµ
        os.close();
        // æ–­å¼€è¿æ¥
        con.disconnect();
        // è·å–å“åº”ç 
        int responseCode = con.getResponseCode();
        // æ ¹æ®å“åº”ç å¤„ç†å“åº”
        if (responseCode == HttpURLConnection.HTTP_OK) {
            System.out.println("è¯·æ±‚æˆåŠŸ");
            // TODO: å¤„ç†å“åº”å†…å®¹
        } else {
            System.out.println("è¯·æ±‚å¤±è´¥ï¼Œå“åº”ç ï¼š" + responseCode);
            // TODO: å¤„ç†é”™è¯¯æƒ…å†µ
        }
    }
}
```

ä»¥ä¸Šä»£ç å‚è€ƒäº†ä»¥ä¸‹ç½‘é¡µçš„å†…å®¹ï¼š

- [Making a JSON POST Request With HttpURLConnection | Baeldung](https://www.baeldung.com/httpurlconnection-post)
- [How to Hit a HTTP POST API using JSON as a Request body in Java](https://www.behindjava.com/java-rest-api-post/)
- [How do I send POST request with a JSON body using the HttpClient? - Kode Java](https://kodejava.org/how-do-i-send-post-request-with-a-json-body-using-the-httpclient/)

å¸Œæœ›è¿™äº›ä¿¡æ¯å¯¹æ‚¨æœ‰å¸®åŠ©ã€‚å¦‚æœæ‚¨è¿˜æœ‰å…¶ä»–é—®é¢˜ï¼Œè¯·éšæ—¶æé—®ã€‚ğŸ˜Š
\-
\[1]: [Making a JSON POST Request With HttpURLConnection | Baeldung](https://www.baeldung.com/httpurlconnection-post)
\[2]: [How to Hit a HTTP POST API using JSON as a Request body in Java](https://www.behindjava.com/java-rest-api-post/)
\[3]: [How do I send POST request with a JSON body using the ... - Kode Java](https://kodejava.org/how-do-i-send-post-request-with-a-json-body-using-the-httpclient/)
\[4]: [Java HttpRequest JSON & Response Handling - Stack Overflow](https://stackoverflow.com/questions/22816335/java-httprequest-json-response-handling)
\[5]: [HttpRequest.BodyPublishers (Java SE 11 & JDK 11 ) - Oracle](https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpRequest.BodyPublishers.html)

<hr/>

