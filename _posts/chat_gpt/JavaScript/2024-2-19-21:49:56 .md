Question:

Reply in Chinese (Simplified).
The following is a search input in a search engine, giving useful content or solutions and as much information as you can related to it, use markdown syntax to make your answer more readable, such as code blocks, bold, list:
TS2322: Type 3 is not assignable to type E

Answer:

è¿™ä¸ªé”™è¯¯æ˜¯ TypeScript ç¼–è¯‘å™¨çš„ä¸€ä¸ªé”™è¯¯æ¶ˆæ¯ï¼Œé€šå¸¸åœ¨ä½ çš„ä»£ç ä¸­å‡ºç°ç±»å‹ä¸åŒ¹é…çš„æƒ…å†µæ—¶ä¼šæ˜¾ç¤ºã€‚è®©æˆ‘ä»¬æ¥çœ‹çœ‹ä¸€äº›å¯èƒ½å¯¼è‡´è¿™ä¸ªé”™è¯¯çš„å¸¸è§æƒ…å†µä»¥åŠå¦‚ä½•è§£å†³å®ƒä»¬ã€‚

1. **TypeScript ç‰ˆæœ¬é—®é¢˜**ï¼šé¦–å…ˆï¼Œç¡®ä¿ä½ æ­£åœ¨ä½¿ç”¨çš„ TypeScript ç‰ˆæœ¬é«˜äº 2.4ã€‚å¦‚æœä¸æ˜¯ï¼Œè¯·å‡çº§åˆ°æ›´é«˜çš„ç‰ˆæœ¬ã€‚

2. **React 18 ç±»å‹å®šä¹‰é—®é¢˜**ï¼šå¦‚æœä½ åœ¨ä½¿ç”¨ React 18 çš„ç±»å‹å®šä¹‰ï¼Œå¯èƒ½ä¼šé‡åˆ°ä¸€äº›é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œåœ¨ä½¿ç”¨ `<Trans>` ç»„ä»¶æ—¶ï¼Œå¯èƒ½ä¼šå‡ºç° `Type 'TFunctionResult' is not assignable to type 'ReactNode'` é”™è¯¯ã€‚è§£å†³æ–¹æ³•æ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„ `i18next.d.ts` æ–‡ä»¶ï¼Œå¹¶åœ¨å…¶ä¸­å£°æ˜ä¸€ä¸ªæ–°çš„æ¨¡å—æ¥â€œè¦†ç›–â€ `CustomTypeOptionsType`ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š

    ```typescript
    // src/@types/i18next.d.ts
    declare module 'i18next' {
      interface CustomTypeOptions {
        allowObjectInHTMLChildren: true;
      }
    }
    ```

3. **API å“åº”ç±»å‹ä¸åŒ¹é…**ï¼šå¦‚æœä½ ä» API è·å–çš„æ•°æ®ç±»å‹ä¸ä½ æœŸæœ›çš„ä¸åŒ¹é…ï¼Œä¹Ÿä¼šå¯¼è‡´æ­¤é”™è¯¯ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ å°†å¯¹è±¡åˆ†é…ç»™äº†æ•°ç»„ï¼Œå°±ä¼šå‡ºç° `Type 'Object' is not assignable to type 'never'` é”™è¯¯ã€‚è§£å†³æ–¹æ³•æ˜¯ç›´æ¥ä½¿ç”¨ API å“åº”ä¸­çš„ `results` å€¼ï¼Œæˆ–è€…æ›´å¥½åœ°å£°æ˜ä¸€ä¸ªä¸é¢„æœŸè‡ªå®šä¹‰ç±»å‹ç›¸åŒ¹é…çš„å˜é‡ã€‚

    ```typescript
    // ç¤ºä¾‹
    countries: { id: string; ...otherProperty: string }[] = null;
    ```

4. **å¤„ç†å¯èƒ½ä¸º undefined çš„å€¼**ï¼šå¦‚æœä½ å¤„ç†å¯èƒ½ä¸º undefined çš„å€¼ï¼Œå¯ä»¥ä½¿ç”¨æ¡ä»¶è¯­å¥æ¥æ£€æŸ¥æ˜¯å¦å­˜åœ¨è¯¥å€¼ã€‚ä¾‹å¦‚ï¼š

    ```typescript
    // ç¤ºä¾‹
    if (token) {
      validateToken(token);
    }
    ```

å¸Œæœ›è¿™äº›è§£å†³æ–¹æ¡ˆå¯¹ä½ æœ‰å¸®åŠ©ï¼å¦‚æœä½ æœ‰å…¶ä»–é—®é¢˜ï¼Œè¯·éšæ—¶æé—®ã€‚ğŸ˜Š
\-
\[1]: [TypeScript's string enums - "Type ... is not assignable to type ...](https://stackoverflow.com/questions/45191472/typescripts-string-enums-type-is-not-assignable-to-type)
\[2]: [Cannot pass objects to <Trans> with React 18 type definitions #1483](https://github.com/i18next/react-i18next/issues/1483)
\[3]: [Angular - error TS2322: Type 'Object' is not assignable to type 'never ...](https://stackoverflow.com/questions/67961328/angular-error-ts2322-type-object-is-not-assignable-to-type-never-for-li)
\[4]: [How to solve TypeScript possibly undefined value](https://linguinecode.com/post/how-to-solve-typescript-possibly-undefined-value)

<hr/>

Question:

```javascript
enum E { a, b }
enum F { a = 0, b = 1 }
enum G { a = 'apple', b = 'banana' }

let e: E = 3
let f: F = 3
// console.log(e === f)

let e1: E.a = 3
let e2: E.b = 3
let e3: E.a = 3
// console.log(e1 === e2)
// console.log(e1 === e3)

let g1: G = G.a
let g2: G.a = G.a
```

Answer:

åœ¨ TypeScript ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æšä¸¾ï¼ˆenumsï¼‰æ¥è¡¨ç¤ºä¸€ç»„å¸¸é‡å€¼ã€‚ä½ çš„ä»£ç ä¸­æœ‰ä¸€äº›å…³äº TypeScript æšä¸¾çš„ä¾‹å­ï¼Œè®©æˆ‘æ¥è§£é‡Šä¸€ä¸‹ï¼š

1. **æ¯”è¾ƒæšä¸¾å€¼**ï¼šè¦æ¯”è¾ƒæšä¸¾å€¼ï¼Œä½ å¯ä»¥ä½¿ç”¨ç‚¹è¡¨ç¤ºæ³•æ¥è·å–ç‰¹å®šæšä¸¾å±æ€§çš„å€¼ï¼Œå¹¶å°†å…¶ä¸å…¶ä»–å€¼è¿›è¡Œæ¯”è¾ƒã€‚ä¾‹å¦‚ï¼š

    ```javascript
    enum E { a, b }
    enum F { a = 0, b = 1 }
    enum G { a = 'apple', b = 'banana' }

    let e: E = 3
    let f: F = 3

    // è¿™é‡Œä¼šæŠ¥é”™ï¼Œå› ä¸º e å’Œ f çš„ç±»å‹ä¸åŒ¹é…
    // console.log(e === f)
    ```

2. **æŒ‡å®šæšä¸¾æˆå‘˜çš„åˆå§‹å€¼**ï¼šåœ¨ TypeScript ä¸­ï¼Œä½ å¯ä»¥ä¸ºæ¯ä¸ªæšä¸¾æˆå‘˜æŒ‡å®šåˆå§‹å€¼ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥è¿™æ ·å®šä¹‰ä¸€ä¸ªæšä¸¾ï¼š

    ```javascript
    enum AnimalInfo {
      Tiger = "Tiger",
      Lion = "Lion",
    }

    let tigerStr = "Tiger";
    if (tigerStr === AnimalInfo.Tiger) {
      console.log("true");
    } else {
      console.log("false");
    }
    ```

3. **æ¯”è¾ƒå­—ç¬¦ä¸²æšä¸¾**ï¼šå¦‚æœä½ çš„æšä¸¾æˆå‘˜æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œä½ å¯ä»¥ç›´æ¥å°†å…¶ä¸å­—ç¬¦ä¸²è¿›è¡Œæ¯”è¾ƒï¼š

    ```javascript
    enum ShapeKind {
      Circle = "CIRCLE",
      Square = "SQUARE",
      Triangle = "TRIANGLE"
    }

    const circle = ShapeKind.Circle;
    if (circle === "CIRCLE") {
      console.log("Circle");
    }
    ```

å¸Œæœ›è¿™äº›ç¤ºä¾‹å¯¹ä½ æœ‰å¸®åŠ©ï¼å¦‚æœä½ è¿˜æœ‰å…¶ä»–é—®é¢˜ï¼Œè¯·éšæ—¶æé—®ã€‚ğŸ˜Š
\-
\[1]: [How to compare enums in TypeScript? - The Web Dev](https://thewebdev.info/2022/03/19/how-to-compare-enums-in-typescript/)
\[2]: [How to compare Enums in Typescript | bobbyhadz](https://bobbyhadz.com/blog/typescript-compare-enums)
\[3]: [Typescript Enums: The Good, The Bad, and The Ugly | CroCoder](https://www.crocoder.dev/blog/typescript-enums-good-bad-and-ugly/)
\[4]: [How to compare Enums in TypeScript - Stack Overflow](https://stackoverflow.com/questions/39785320/how-to-compare-enums-in-typescript)
\[5]: [How To Use Enums in TypeScript | DigitalOcean](https://www.digitalocean.com/community/tutorials/how-to-use-enums-in-typescript)

<hr/>

Question:

ä¸Šé¢è¿™æ®µä»£ç ä¸­ let e: E = 3 æŠ¥é”™ï¼ŒTS2322: Type 3 is not assignable to type E
 

Answer:

å“¦ï¼Œæˆ‘æ˜ç™½äº†ã€‚åœ¨ TypeScript ä¸­ï¼Œä½ ä¸èƒ½ç›´æ¥å°†æ•°å­—èµ‹å€¼ç»™ä¸€ä¸ªæšä¸¾ç±»å‹çš„å˜é‡ï¼Œå› ä¸ºå®ƒä»¬çš„ç±»å‹ä¸åŒ¹é…ã€‚è®©æˆ‘è§£é‡Šä¸€ä¸‹ã€‚

1. **æšä¸¾ç±»å‹çš„èµ‹å€¼é—®é¢˜**ï¼šåœ¨ä½ çš„ä»£ç ä¸­ï¼Œ`let e: E = 3` æŠ¥é”™æ˜¯å› ä¸º `3` æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œè€Œ `E` æ˜¯ä¸€ä¸ªæšä¸¾ç±»å‹ã€‚å®ƒä»¬çš„ç±»å‹ä¸å…¼å®¹ã€‚è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½ å¯ä»¥ä½¿ç”¨æšä¸¾æˆå‘˜çš„åç§°æ¥èµ‹å€¼ï¼š

    ```javascript
    enum E { a, b }
    let e: E = E.a; // æ­£ç¡®
    ```

2. **å­—ç¬¦ä¸²æšä¸¾**ï¼šå¦‚æœä½ æƒ³ä½¿ç”¨å­—ç¬¦ä¸²ä½œä¸ºæšä¸¾æˆå‘˜çš„å€¼ï¼Œå¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²æšä¸¾ã€‚ä¾‹å¦‚ï¼š

    ```javascript
    enum G { a = 'apple', b = 'banana' }
    let g1: G = G.a; // æ­£ç¡®
    ```

å¸Œæœ›è¿™å¯¹ä½ æœ‰å¸®åŠ©ï¼å¦‚æœä½ è¿˜æœ‰å…¶ä»–é—®é¢˜ï¼Œè¯·éšæ—¶æé—®ã€‚ğŸ˜Š
\-
\[1]: [Typescript strings and string enums - string not assignable](https://stackoverflow.com/questions/68456957/typescript-strings-and-string-enums-string-not-assignable)
\[2]: [Typescript String enum type 'string' is not assignable to type](https://stackoverflow.com/questions/69453791/typescript-string-enum-type-string-is-not-assignable-to-type)
\[3]: [Cannot export const enum in Export Declaration #33060 - GitHub](https://github.com/microsoft/TypeScript/issues/33060)
\[4]: [typescript - Enum type not defined at runtime - Stack Overflow](https://stackoverflow.com/questions/47418124/enum-type-not-defined-at-runtime)
\[5]: [TypeScript: Documentation - Type Compatibility](https://www.typescriptlang.org/docs/handbook/type-compatibility.html)
\[6]: [TypeScript string enums, and when and how to use them](https://blog.logrocket.com/typescript-string-enums-guide/)

<hr/>

