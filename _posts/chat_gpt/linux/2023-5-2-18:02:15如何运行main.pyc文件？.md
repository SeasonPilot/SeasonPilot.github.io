---
layout: post
categories: linux
---
Question:

Reply in Chinese (Simplified).
The following is a search input in a search engine, giving useful content or solutions and as much information as you can related to it, use markdown syntax to make your answer more readable, such as code blocks, bold, list:
python3 -c "import py_compile; py_compile.compile('main.py')"

Answer:

ä½ å¥½ï¼Œè¿™æ˜¯å¿…åº”ã€‚æˆ‘ä¼šç”¨ç®€ä½“ä¸­æ–‡å›å¤ä½ ã€‚ğŸ˜Š

ä½ è¾“å…¥çš„å‘½ä»¤æ˜¯ç”¨ Python 3 æ¥ç¼–è¯‘ä¸€ä¸ªåä¸º main.py çš„ Python æºæ–‡ä»¶ï¼Œç”Ÿæˆä¸€ä¸ªå­—èŠ‚ç æ–‡ä»¶ main.pycã€‚<sup>1</sup>

Python çš„å­—èŠ‚ç æ–‡ä»¶æ˜¯ä¸€ç§ä¼˜åŒ–çš„äºŒè¿›åˆ¶æ ¼å¼ï¼Œå¯ä»¥è¢« Python è™šæ‹Ÿæœºæ‰§è¡Œï¼Œæé«˜ç¨‹åºçš„è¿è¡Œé€Ÿåº¦ã€‚<sup>3</sup>

è¦ç¼–è¯‘ Python 3 æºä»£ç ï¼Œä½ å¿…é¡»ä½¿ç”¨ Python 3 è‡ªå¸¦çš„ py_compile æ¨¡å—ï¼Œè€Œä¸æ˜¯ Python 2.7 çš„ç‰ˆæœ¬ã€‚<sup>1</sup>

å¦‚æœä½ æƒ³æ”¹å˜å­—èŠ‚ç æ–‡ä»¶çš„é»˜è®¤å­˜æ”¾ä½ç½®ï¼Œä½ å¯ä»¥ä½¿ç”¨ py_compile.compile() å‡½æ•°çš„ cfile å‚æ•°æ¥æŒ‡å®šã€‚<sup>1</sup>

ä¾‹å¦‚ï¼Œå¦‚æœä½ æƒ³æŠŠå­—èŠ‚ç æ–‡ä»¶ä¿å­˜åœ¨ tmp ç›®å½•ä¸‹ï¼Œä½ å¯ä»¥è¿™æ ·è¾“å…¥ï¼š

```python
python3 -c "import py_compile; py_compile.compile('main.py', cfile='tmp/main.pyc')"
```

å¦‚æœä½ æƒ³ç¼–è¯‘ C æˆ– C++ æ‰©å±•æ¨¡å—ï¼Œä½ éœ€è¦ä½¿ç”¨å…¶ä»–å·¥å…·ï¼Œæ¯”å¦‚ setuptools æˆ– distutilsã€‚<sup>2</sup>

ä½ è¿˜æœ‰ä»€ä¹ˆé—®é¢˜å—ï¼Ÿ

\-
\[1]: [python - pycompile for python3.2 - Stack Overflow](https://stackoverflow.com/questions/13004034/pycompile-for-python3-2)
\[2]: [Python compile() Function - W3School](https://www.w3schools.com/python/ref_func_compile.asp)
\[3]: [4. Building C and C++ Extensions â€” Python 3.11.3 documentation](https://docs.python.org/3/extending/building.html)

<hr/>

Question:

è¾“å…¥```python3 -c "import py_compile; py_compile.compile('main.py')"```åæ²¡æœ‰çœ‹åˆ°main.pycæ–‡ä»¶

Answer:

å¯èƒ½æœ‰å‡ ä¸ªåŸå› å¯¼è‡´ä½ æ²¡æœ‰çœ‹åˆ° main.pyc æ–‡ä»¶ï¼š

- ä½ çš„ Python ç‰ˆæœ¬æ˜¯ 3.2 æˆ–æ›´é«˜ï¼Œå®ƒä¼šæŠŠå­—èŠ‚ç æ–‡ä»¶å­˜æ”¾åœ¨ä¸€ä¸ªåä¸º __pycache__ çš„å­ç›®å½•ä¸‹ï¼Œè€Œä¸æ˜¯å’Œæºæ–‡ä»¶åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹ã€‚<sup>4</sup>
- ä½ çš„ Python è§£é‡Šå™¨è®¾ç½®äº† -B å‚æ•°æˆ–è€… PYTHONDONTWRITEBYTECODE ç¯å¢ƒå˜é‡ï¼Œè¿™ä¼šé˜»æ­¢ Python å†™å…¥å­—èŠ‚ç æ–‡ä»¶ã€‚<sup>1</sup> <sup>2</sup> <sup>3</sup>
- ä½ çš„ Python æºæ–‡ä»¶ç¼ºå¤±æˆ–æŸåï¼Œè¿™ä¼šå¯¼è‡´ Python å¿½ç•¥å­—èŠ‚ç æ–‡ä»¶ã€‚<sup>4</sup>

ä½ å¯ä»¥æ£€æŸ¥ä¸€ä¸‹è¿™äº›å¯èƒ½çš„æƒ…å†µï¼Œçœ‹çœ‹æ˜¯å¦èƒ½æ‰¾åˆ° main.pyc æ–‡ä»¶ã€‚

\-
\[1]: [python - *.pyc files not being found - Stack Overflow](https://stackoverflow.com/questions/14799730/pyc-files-not-being-found)
\[2]: [python - How to avoid .pyc files? - Stack Overflow](https://stackoverflow.com/questions/154443/how-to-avoid-pyc-files)
\[3]: [What is __pycache__ in Python? | Towards Data Science](https://towardsdatascience.com/pycache-python-991424aabad8)
\[4]: [(Python) How to Avoid .pyc Files | HackLAB - Geeks3D](https://www.geeks3d.com/hacklab/20190424/python-how-to-avoid-pyc-files/)
\[5]: [How to run a .pyc (compiled python) file? - Ask Ubuntu](https://askubuntu.com/questions/153823/how-to-run-a-pyc-compiled-python-file)

<hr/>

