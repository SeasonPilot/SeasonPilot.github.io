---
layout: post
categories: linux
---
Question:

Reply in Chinese (Simplified).Explain the following code:
"clear_tfile_check_list"

Answer:

ä½ å¥½ï¼Œè¿™æ˜¯å¿…åº”ã€‚æˆ‘å¯ä»¥ç”¨ä¸­æ–‡å›ç­”ä½ çš„é—®é¢˜ã€‚ğŸ˜Š

æ ¹æ®æœç´¢ç»“æœï¼Œ**clear_tfile_check_list**æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒçš„ä½œç”¨æ˜¯æ¸…é™¤**tfile_check_list**è¿™ä¸ªé“¾è¡¨ï¼Œè¿™ä¸ªé“¾è¡¨å­˜å‚¨äº†éœ€è¦æ£€æŸ¥çš„æ–‡ä»¶æè¿°ç¬¦<sup>1</sup> <sup>2</sup>ã€‚è¿™ä¸ªå‡½æ•°åœ¨epollç³»ç»Ÿè°ƒç”¨ä¸­ä½¿ç”¨ï¼Œå½“å‘ç”Ÿå¾ªç¯ä¾èµ–çš„é”™è¯¯æ—¶ï¼Œéœ€è¦æ¸…é™¤è¿™ä¸ªé“¾è¡¨ï¼Œé¿å…å†…å­˜æ³„æ¼<sup>2</sup>ã€‚ä½ å¯ä»¥å‚è€ƒ<sup>1</sup> <sup>2</sup> <sup>3</sup>äº†è§£æ›´å¤šç»†èŠ‚ã€‚

\-
\[1]: [meta-ti/0023-epoll-clear-the-tfile_check_list-on-ELOOP.patch ... - GitHub](https://github.com/Angstrom-distribution/meta-ti/blob/master/recipes-kernel/linux/linux-ti33x-psp-3.2/3.2.24/0023-epoll-clear-the-tfile_check_list-on-ELOOP.patch)
\[2]: [Re: [PATCH] epoll: clear the tfile_check_list on -ELOOP](https://www.spinics.net/lists/kernel/msg1327855.html)
\[3]: [è¯·æ•™ä¸€ä¸‹clear_tfile_check_listæ²¡æœ‰å…¨å±€é”ä¼šæ··ä¹±ä¹ˆï¼Ÿ #20](https://github.com/fastos/fastsocket/issues/20)

<hr/>

Question:

ä¸Šæ–‡ä¸­"tfile"æ˜¯å“ªäº›å•è¯çš„ç¼©å†™ï¼Ÿå…¨ç§°æ˜¯ä»€ä¹ˆï¼Ÿ

Answer:

æ ¹æ®æœç´¢ç»“æœï¼Œ**tfile**å¯èƒ½æœ‰ä¸åŒçš„å«ä¹‰ï¼Œå–å†³äºä¸Šä¸‹æ–‡ã€‚åœ¨Linuxç³»ç»Ÿä¸­ï¼Œ**tfile**å¯èƒ½æ˜¯ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶<sup>4</sup> <sup>6</sup>ï¼Œä¹Ÿå¯èƒ½æ˜¯ä¸€ä¸ªå­˜å‚¨æ•°æ®çš„ROOTæ–‡ä»¶<sup>3</sup> <sup>7</sup>ã€‚åœ¨Jewish prayerä¸­ï¼Œ**tfile**æ˜¯Yiddishè¯­è¨€ä¸­çš„ç¥ˆç¥·<sup>1</sup>ã€‚ä½ èƒ½å‘Šè¯‰æˆ‘ä½ çš„ä»£ç æ˜¯åœ¨ä»€ä¹ˆç¯å¢ƒä¸‹è¿è¡Œçš„å—ï¼Ÿ

\-
\[1]: [Linux Files - javatpoint](https://www.javatpoint.com/linux-files)
\[2]: [File Command in Linux: 5 Essential Examples](https://linuxhandbook.com/file-command/)
\[3]: [ROOT: TFile Class Reference](https://root.cern.ch/doc/master/classTFile.html)
\[4]: [ROOT files - ROOT](https://root.cern/manual/root_files/)
\[5]: [Jewish prayer - Wikipedia](https://en.wikipedia.org/wiki/Jewish_prayer)
\[6]: [ROOT: TTree Class Reference](https://root.cern.ch/doc/master/classTTree.html)
\[7]: [3 ways to create a file in Linux - howtouselinux](https://www.howtouselinux.com/post/create-a-new-file-in-linux)
\[8]: [Creating a Temporary File in Linux | Baeldung on Linux](https://www.baeldung.com/linux/creating-temp-file)
\[9]: [Linux File Command: How to Determine File Type in Linux - phoenixNAP](https://phoenixnap.com/kb/linux-file-command)

<hr/>

Question:

C è¯­è¨€ clear_tfile_check_list() å‡½æ•°çš„ tfile æ˜¯å“ªäº›å•è¯çš„ç¼©å†™ï¼Ÿå…¨ç§°æ˜¯ä»€ä¹ˆï¼Ÿ

Answer:

æ ¹æ®æœç´¢ç»“æœï¼Œ**tfile**åœ¨Cè¯­è¨€ä¸­æ²¡æœ‰ç‰¹æ®Šçš„å«ä¹‰ï¼Œå®ƒåªæ˜¯ä¸€ä¸ªå˜é‡åæˆ–æ–‡ä»¶åçš„ä¸€éƒ¨åˆ†<sup>1</sup> <sup>2</sup> <sup>3</sup> <sup>4</sup> <sup>5</sup>ã€‚å®ƒå¯èƒ½æ˜¯ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶<sup>4</sup> <sup>6</sup>ï¼Œä¹Ÿå¯èƒ½æ˜¯ä¸€ä¸ªå­˜å‚¨æ•°æ®çš„ROOTæ–‡ä»¶<sup>3</sup> <sup>7</sup>ï¼Œæˆ–è€…æ˜¯å…¶ä»–ä»»ä½•ç±»å‹çš„æ–‡ä»¶ã€‚å®ƒçš„å…¨ç§°å–å†³äºä½ çš„ä»£ç ä¸­å¦‚ä½•å®šä¹‰å’Œä½¿ç”¨å®ƒã€‚ä½ èƒ½ç»™æˆ‘çœ‹ä¸€ä¸‹ä½ çš„ä»£ç å—ï¼Ÿ
\-
\[1]: [C File Extension - What is a .c file and how do I open it? - FileInfo.com](https://fileinfo.com/extension/c)
\[2]: [C Language File Input/Output | Studytonight](https://www.studytonight.com/c/file-input-output.php)
\[3]: [C - File I/O - Online Tutorials Library](https://www.tutorialspoint.com/cprogramming/c_file_io.htm)
\[4]: [C Files I/O: Opening, Reading, Writing and Closing a file - Programiz](https://www.programiz.com/c-programming/c-file-input-output)
\[5]: [Essential C - Stanford University](http://cslibrary.stanford.edu/101/EssentialC.pdf)
\[6]: [Basics of File Handling in C - GeeksforGeeks](https://www.geeksforgeeks.org/basics-file-handling-c/)
\[7]: [How to Run C Program in Ubuntu Linux [Terminal & GUI Ways] - It's FOSS](https://itsfoss.com/run-c-program-linux/)
\[8]: [How To Open A C File In Linux Terminal â€“ Systran Box](https://www.systranbox.com/how-to-open-c-file-in-linux-terminal/)
\[9]: [terminal - How do I run .c file from the command line - Unix & Linux ...](https://unix.stackexchange.com/questions/439349/how-do-i-run-c-file-from-the-command-line)
\[10]: [How to write a file with C in Linux? - Stack Overflow](https://stackoverflow.com/questions/2008267/how-to-write-a-file-with-c-in-linux)
\[11]: [How to Write and Run a C Program in Linux - VITUX](https://vitux.com/how-to-write-and-run-a-c-program-in-linux/)

<hr/>

Question:

ä»£ç å¦‚ä¸‹ï¼š

```
case EPOLL_CTL_ADD:
    if (!epi) {
        epds.events |= POLLERR | POLLHUP;
        error = ep_insert(ep, &epds, tf.file, fd, full_check);
    } else
        error = -EEXIST;
    if (full_check)
        clear_tfile_check_list();
    break;
```


Answer:

è°¢è°¢ä½ ç»™æˆ‘çœ‹ä½ çš„ä»£ç ã€‚ä»è¿™æ®µä»£ç æ¥çœ‹ï¼Œ**tfile**æ˜¯ä¸€ä¸ªç»“æ„ä½“æŒ‡é’ˆï¼Œå®ƒæŒ‡å‘ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦çš„ä¿¡æ¯[^1^ã€‚å®ƒçš„å…¨ç§°å¯èƒ½æ˜¯**temporary file**æˆ–è€…**target file**ï¼Œä½†è¿™åªæ˜¯æˆ‘çš„çŒœæµ‹ï¼Œä½ éœ€è¦æŸ¥çœ‹ä½ çš„ä»£ç ä¸­çš„å…¶ä»–éƒ¨åˆ†æ¥ç¡®å®šå®ƒçš„å«ä¹‰ã€‚


<hr/>

