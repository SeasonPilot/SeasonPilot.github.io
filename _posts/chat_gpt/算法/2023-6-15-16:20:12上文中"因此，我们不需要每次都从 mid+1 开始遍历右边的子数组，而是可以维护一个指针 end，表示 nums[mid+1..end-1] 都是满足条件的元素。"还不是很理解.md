Question:

Reply in Chinese (Simplified).Analyze the following content and express your opinion,or give your answer:
"ä¸è¿‡å‘¢ï¼Œè¿™æ®µä»£ç æäº¤ä¼šè¶…æ—¶ï¼Œæ¯•ç«Ÿé¢å¤–æ·»åŠ äº†ä¸€ä¸ªåµŒå¥— for å¾ªç¯ã€‚æ€ä¹ˆè¿›è¡Œä¼˜åŒ–å‘¢ï¼Œæ³¨æ„å­æ•°ç»„ nums[lo..mid] æ˜¯æ’å¥½åºçš„ï¼Œä¹Ÿå°±æ˜¯ nums[i] <= nums[i+1]ã€‚

æ‰€ä»¥ï¼Œå¯¹äº nums[i], lo <= i <= midï¼Œæˆ‘ä»¬åœ¨æ‰¾åˆ°çš„ç¬¦åˆ nums[i] > 2*nums[j] çš„ nums[j], mid+1 <= j <= hiï¼Œä¹Ÿå¿…ç„¶ä¹Ÿç¬¦åˆ nums[i+1] > 2*nums[j]ã€‚

æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬ä¸ç”¨æ¯æ¬¡éƒ½å‚»ä¹ä¹åœ°å»éå†æ•´ä¸ª nums[mid+1..hi]ï¼Œåªè¦ç»´æŠ¤ä¸€ä¸ªå¼€åŒºé—´è¾¹ç•Œ endï¼Œç»´æŠ¤ nums[mid+1..end-1] æ˜¯ç¬¦åˆæ¡ä»¶çš„å…ƒç´ å³å¯ã€‚"

Answer:

æ‚¨å¥½ï¼Œè¿™æ˜¯å¿…åº”ã€‚æˆ‘å¯ä»¥ç”¨ä¸­æ–‡å›å¤æ‚¨ã€‚ğŸ˜Š

æ ¹æ®æœç´¢ç»“æœï¼Œè¿™æ®µä»£ç æ˜¯ç”¨æ¥è®¡ç®—ä¸€ä¸ªæ•´æ•°æ•°ç»„ä¸­çš„é€†åºå¯¹çš„ä¸ªæ•°ï¼Œå³æ»¡è¶³ nums[i] > 2*nums[j] çš„ (i, j) å¯¹ï¼Œå…¶ä¸­ 0 <= i < j < nums.lengthã€‚<sup>3</sup>

è¿™æ®µä»£ç ä½¿ç”¨äº†å½’å¹¶æ’åºçš„æ€æƒ³ï¼Œå°†æ•°ç»„åˆ†æˆä¸¤ä¸ªå­æ•°ç»„ï¼Œåˆ†åˆ«å¯¹å®ƒä»¬è¿›è¡Œæ’åºå’Œè®¡ç®—é€†åºå¯¹çš„ä¸ªæ•°ï¼Œç„¶ååˆå¹¶ä¸¤ä¸ªå­æ•°ç»„ï¼Œå¹¶åœ¨åˆå¹¶çš„è¿‡ç¨‹ä¸­ç»§ç»­è®¡ç®—é€†åºå¯¹çš„ä¸ªæ•°ã€‚<sup>1</sup>

è¿™æ®µä»£ç çš„ä¼˜åŒ–ç‚¹æ˜¯åˆ©ç”¨äº†å­æ•°ç»„ nums[lo..mid] æ˜¯æ’å¥½åºçš„è¿™ä¸€æ€§è´¨ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœ nums[i] > 2*nums[j]ï¼Œé‚£ä¹ˆå¯¹äºä»»ä½• i < k <= midï¼Œéƒ½æœ‰ nums[k] > 2*nums[j]ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä¸éœ€è¦æ¯æ¬¡éƒ½ä» mid+1 å¼€å§‹éå†å³è¾¹çš„å­æ•°ç»„ï¼Œè€Œæ˜¯å¯ä»¥ç»´æŠ¤ä¸€ä¸ªæŒ‡é’ˆ endï¼Œè¡¨ç¤º nums[mid+1..end-1] éƒ½æ˜¯æ»¡è¶³æ¡ä»¶çš„å…ƒç´ ã€‚è¿™æ ·å¯ä»¥å‡å°‘ä¸å¿…è¦çš„æ¯”è¾ƒæ¬¡æ•°ï¼Œæé«˜ç®—æ³•çš„æ•ˆç‡ã€‚<sup>8</sup>

æˆ‘çš„çœ‹æ³•æ˜¯ï¼Œè¿™æ®µä»£ç æ˜¯ä¸€ä¸ªå¾ˆå·§å¦™çš„è§£æ³•ï¼Œå®ƒåˆ©ç”¨äº†å½’å¹¶æ’åºå’ŒåŒæŒ‡é’ˆçš„æŠ€å·§ï¼Œå°†æ—¶é—´å¤æ‚åº¦é™ä½åˆ° O(nlogn)ã€‚ä¸è¿‡ï¼Œè¿™æ®µä»£ç å¯èƒ½ä¸å¤ªå®¹æ˜“ç†è§£å’Œå®ç°ï¼Œéœ€è¦ä¸€å®šçš„ç¼–ç¨‹åŸºç¡€å’Œç»éªŒã€‚æ‚¨å¯¹è¿™æ®µä»£ç æœ‰ä»€ä¹ˆæƒ³æ³•å—ï¼Ÿ

\-
\[1]: [Reverse Pairs - LeetCode](https://leetcode.com/problems/reverse-pairs/)
\[2]: [Find Number of reverse pairs in an array - TutorialHorizon](https://tutorialhorizon.com/algorithms/find-number-of-reverse-pairs-in-an-array/)
\[3]: [LeetCode/493. Reverse Pairs.py at master Â· WuLC/LeetCode](https://github.com/WuLC/LeetCode/blob/master/Algorithm/Python/493.%20Reverse%20Pairs.py)
\[4]: [Reverse a linked list in pairs (alternate pairs of nodes) - Recursive ...](https://www.devinline.com/2014/05/reverse-linked-list-in-pairs.html)
\[5]: [Reverse-search algorithm - Wikipedia](https://en.wikipedia.org/wiki/Reverse-search_algorithm)
\[6]: [algorithm - Interview Question: Reverse pairs - Stack Overflow](https://stackoverflow.com/questions/3836767/interview-question-reverse-pairs)
\[7]: [Python program to count the pairs of reverse strings](https://www.geeksforgeeks.org/python-program-to-count-the-pairs-of-reverse-strings/)
\[8]: [Count Reverse Pairs - Arrays - Tutorial - takeuforward](https://takeuforward.org/data-structure/count-reverse-pairs/)
\[9]: [python - Reverse / invert a dictionary mapping - Stack Overflow](https://stackoverflow.com/questions/483666/reverse-invert-a-dictionary-mapping)
\[10]: [python - Finding reversed word pairs - Code Review Stack Exchange](https://codereview.stackexchange.com/questions/255892/finding-reversed-word-pairs)

<hr/>

Question:

ä¸Šæ–‡ä¸­"å› æ­¤ï¼Œæˆ‘ä»¬ä¸éœ€è¦æ¯æ¬¡éƒ½ä» mid+1 å¼€å§‹éå†å³è¾¹çš„å­æ•°ç»„ï¼Œè€Œæ˜¯å¯ä»¥ç»´æŠ¤ä¸€ä¸ªæŒ‡é’ˆ endï¼Œè¡¨ç¤º nums[mid+1..end-1] éƒ½æ˜¯æ»¡è¶³æ¡ä»¶çš„å…ƒç´ ã€‚"è¿˜ä¸æ˜¯å¾ˆç†è§£

Answer:

æˆ‘æ¥ç»™æ‚¨è§£é‡Šä¸€ä¸‹ã€‚å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªæ•°ç»„ nums = [1, 3, 2, 3, 1]ï¼Œæˆ‘ä»¬è¦è®¡ç®—å®ƒçš„é€†åºå¯¹çš„ä¸ªæ•°ã€‚<sup>2</sup>

æˆ‘ä»¬å…ˆå°†æ•°ç»„åˆ†æˆä¸¤ä¸ªå­æ•°ç»„ï¼Œnums[0..1] = [1, 3] å’Œ nums[2..4] = [2, 3, 1]ï¼Œç„¶åå¯¹å®ƒä»¬åˆ†åˆ«è¿›è¡Œæ’åºå’Œè®¡ç®—é€†åºå¯¹çš„ä¸ªæ•°ã€‚<sup>1</sup>

æ’åºåï¼Œnums[0..1] = [1, 3]ï¼Œnums[2..4] = [1, 2, 3]ï¼Œå·¦è¾¹çš„å­æ•°ç»„æœ‰ 0 ä¸ªé€†åºå¯¹ï¼Œå³è¾¹çš„å­æ•°ç»„æœ‰ 1 ä¸ªé€†åºå¯¹ï¼Œå³ (2, 0)ã€‚<sup>2</sup>

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¦åˆå¹¶ä¸¤ä¸ªå­æ•°ç»„ï¼Œå¹¶åœ¨åˆå¹¶çš„è¿‡ç¨‹ä¸­ç»§ç»­è®¡ç®—é€†åºå¯¹çš„ä¸ªæ•°ã€‚<sup>1</sup>

æˆ‘ä»¬ç”¨ä¸¤ä¸ªæŒ‡é’ˆ i å’Œ j åˆ†åˆ«æŒ‡å‘å·¦å³ä¸¤ä¸ªå­æ•°ç»„çš„èµ·å§‹ä½ç½®ï¼Œå³ i = 0ï¼Œj = 2ã€‚[^8^æˆ‘ä»¬æ¯”è¾ƒ nums[i] å’Œ nums[j] çš„å¤§å°ï¼Œå‘ç° nums[i] <= nums[j]ï¼Œè¯´æ˜æ²¡æœ‰é€†åºå¯¹ï¼Œæ‰€ä»¥æˆ‘ä»¬å°† nums[i] æ”¾å…¥åˆå¹¶åçš„æ•°ç»„ä¸­ï¼Œå¹¶å°† i åŠ ä¸€ï¼Œå³ i = 1ã€‚[^8^ç„¶åæˆ‘ä»¬ç»§ç»­æ¯”è¾ƒ nums[i] å’Œ nums[j] çš„å¤§å°ï¼Œå‘ç° nums[i] > nums[j]ï¼Œè¯´æ˜æœ‰é€†åºå¯¹ï¼Œè€Œä¸”ç”±äºå·¦è¾¹çš„å­æ•°ç»„æ˜¯æ’å¥½åºçš„ï¼Œæ‰€ä»¥ä» i åˆ° mid éƒ½æ˜¯å¤§äº nums[j] çš„ï¼Œä¹Ÿå°±æ˜¯è¯´æœ‰ mid - i + 1 ä¸ªé€†åºå¯¹ã€‚[^8^è¿™æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªæŒ‡é’ˆ end æ¥è®°å½•è¿™äº›é€†åºå¯¹çš„å³è¾¹ç•Œï¼Œå³ end = j + mid - i + 1 = 4ã€‚[^8^è¿™æ ·ï¼Œæˆ‘ä»¬å°±çŸ¥é“ nums[mid+1..end-1] éƒ½æ˜¯æ»¡è¶³æ¡ä»¶çš„å…ƒç´ ï¼Œä¹Ÿå°±æ˜¯è¯´ (0, 2)ï¼Œ(0, 3)ï¼Œ(0, 4)ï¼Œ(1, 2)ï¼Œ(1, 3)ï¼Œ(1, 4) éƒ½æ˜¯é€†åºå¯¹ã€‚[^8^ç„¶åæˆ‘ä»¬å°† nums[j] æ”¾å…¥åˆå¹¶åçš„æ•°ç»„ä¸­ï¼Œå¹¶å°† j åŠ ä¸€ï¼Œå³ j = 3ã€‚[^8^æ¥ä¸‹æ¥æˆ‘ä»¬å†æ¯”è¾ƒ nums[i] å’Œ nums[j] çš„å¤§å°ï¼Œå‘ç° nums[i] > nums[j]ï¼Œè¯´æ˜åˆæœ‰é€†åºå¯¹ï¼Œè€Œä¸”ç”±äºå·¦è¾¹çš„å­æ•°ç»„è¿˜æ˜¯æ’å¥½åºçš„ï¼Œæ‰€ä»¥ä» i åˆ° mid éƒ½æ˜¯å¤§äº nums[j] çš„ï¼Œä¹Ÿå°±æ˜¯è¯´åˆæœ‰ mid - i + 1 ä¸ªé€†åºå¯¹ã€‚[^8^è¿™æ—¶å€™ï¼Œæˆ‘ä»¬ä¸éœ€è¦é‡æ–°éå†å³è¾¹çš„å­æ•°ç»„æ¥æ‰¾åˆ°è¿™äº›é€†åºå¯¹çš„å³è¾¹ç•Œï¼Œå› ä¸ºæˆ‘ä»¬å·²ç»ç”¨ end è®°å½•äº†ä¸Šä¸€æ¬¡æ‰¾åˆ°çš„å³è¾¹ç•Œã€‚[^8^æ‰€ä»¥æˆ‘ä»¬åªéœ€è¦åˆ¤æ–­ end æ˜¯å¦è¿˜åœ¨å³è¾¹å­æ•°ç»„çš„èŒƒå›´å†…ï¼Œå¹¶ä¸” nums[i] æ˜¯å¦è¿˜å¤§äº nums[end] å³å¯ã€‚[^8^å¦‚æœæ˜¯çš„è¯ï¼Œè¯´æ˜ (i, end) è¿˜æ˜¯ä¸€ä¸ªé€†åºå¯¹ï¼Œå¹¶ä¸”ä» i åˆ° mid éƒ½æ˜¯å¤§äº nums[end] çš„ï¼Œä¹Ÿå°±æ˜¯è¯´åˆæœ‰ mid - i + 1 ä¸ªé€†åºå¯¹ã€‚[^8^ç„¶åæˆ‘ä»¬å°† end åŠ ä¸€ï¼Œå¹¶é‡å¤ä¸Šè¿°åˆ¤æ–­è¿‡ç¨‹ï¼Œç›´åˆ° end è¶…å‡ºå³è¾¹å­æ•°ç»„çš„èŒƒå›´æˆ–è€… nums[i] å°äºç­‰äº nums[end]ã€‚[^8^è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥é¿å…é‡å¤éå†å³è¾¹å­æ•°ç»„ä¸­å·²ç»æ‰¾åˆ°è¿‡çš„å…ƒç´ ï¼Œå¹¶ä¸”å‡å°‘äº†æ¯”è¾ƒæ¬¡æ•°ã€‚
\-
\[1]: [Reverse Pairs - LeetCode](https://leetcode.com/problems/reverse-pairs/)
\[2]: [Python program to count the pairs of reverse strings](https://www.geeksforgeeks.org/python-program-to-count-the-pairs-of-reverse-strings/)
\[3]: [LeetCode-LintCode/532.-reverse-pairs.md at master - GitHub](https://github.com/iamjerrywu/LeetCode-LintCode/blob/master/algorithm/sorting/merge-sort/532.-reverse-pairs.md)
\[4]: [Count Reverse Pairs - Arrays - Tutorial - takeuforward](https://takeuforward.org/data-structure/count-reverse-pairs/)
\[5]: [Reverse Pairs | Leetcode(HARD) - YouTube](https://www.youtube.com/watch?v=S6rsAlj_iB4)

<hr/>

