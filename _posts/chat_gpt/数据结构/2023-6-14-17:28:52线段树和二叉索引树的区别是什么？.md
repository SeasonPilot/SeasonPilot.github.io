Question:

Reply in Chinese (Simplified).
The following is a search input in a search engine, giving useful content or solutions and as much information as you can related to it, use markdown syntax to make your answer more readable, such as code blocks, bold, list:
çº¿æ®µæ ‘

Answer:

ä½ å¥½ï¼Œè¿™æ˜¯å¿…åº”ã€‚æˆ‘å¯ä»¥ç”¨ä¸­æ–‡ï¼ˆç®€ä½“ï¼‰å›å¤ä½ ã€‚ğŸ˜Š

çº¿æ®µæ ‘æ˜¯ä¸€ç§äºŒå‰æœç´¢æ ‘ï¼Œå®ƒå°†ä¸€æ®µåŒºé—´åˆ’åˆ†ä¸ºè‹¥å¹²å•ä½åŒºé—´ï¼Œæ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½å‚¨å­˜ç€ä¸€ä¸ªåŒºé—´<sup>1</sup>ã€‚å®ƒåŠŸèƒ½å¼ºå¤§ï¼Œæ”¯æŒåŒºé—´æ±‚å’Œï¼ŒåŒºé—´æœ€å¤§å€¼ï¼ŒåŒºé—´ä¿®æ”¹ï¼Œå•ç‚¹ä¿®æ”¹ç­‰æ“ä½œ<sup>2</sup>ã€‚çº¿æ®µæ ‘çš„æ€æƒ³å’Œåˆ†æ²»æ€æƒ³å¾ˆç›¸åƒ<sup>1</sup>ã€‚

çº¿æ®µæ ‘çš„åŸºæœ¬ç»“æ„æ˜¯è¿™æ ·çš„ï¼š

- çº¿æ®µæ ‘çš„æ¯ä¸ªèŠ‚ç‚¹è¡¨ç¤ºä¸€ä¸ªåŒºé—´ï¼Œæ ¹èŠ‚ç‚¹è¡¨ç¤ºæ•´ä¸ªåŒºé—´ã€‚
- å¦‚æœä¸€ä¸ªèŠ‚ç‚¹æœ‰å·¦å³å­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå®ƒçš„å·¦å­èŠ‚ç‚¹è¡¨ç¤ºå®ƒçš„å·¦åŠåŒºé—´ï¼Œå³å­èŠ‚ç‚¹è¡¨ç¤ºå®ƒçš„å³åŠåŒºé—´ã€‚
- å¦‚æœä¸€ä¸ªèŠ‚ç‚¹æ˜¯å¶å­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå®ƒè¡¨ç¤ºä¸€ä¸ªå•å…ƒåŒºé—´ï¼ˆé•¿åº¦ä¸º1ï¼‰ã€‚
- æ¯ä¸ªèŠ‚ç‚¹å¯ä»¥å­˜å‚¨ä¸€äº›é¢å¤–çš„ä¿¡æ¯ï¼Œæ¯”å¦‚åŒºé—´å’Œï¼ŒåŒºé—´æœ€å¤§å€¼ï¼ŒåŒºé—´æœ€å°å€¼ç­‰ã€‚

çº¿æ®µæ ‘çš„å»ºæ ‘è¿‡ç¨‹æ˜¯è¿™æ ·çš„ï¼š

- ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œå°†æ•´ä¸ªåŒºé—´åˆ’åˆ†ä¸ºä¸¤ä¸ªå­åŒºé—´ï¼Œåˆ†åˆ«åˆ›å»ºå·¦å³å­èŠ‚ç‚¹ã€‚
- å¯¹æ¯ä¸ªå­èŠ‚ç‚¹é‡å¤ä¸Šè¿°æ­¥éª¤ï¼Œç›´åˆ°æ¯ä¸ªå¶å­èŠ‚ç‚¹è¡¨ç¤ºä¸€ä¸ªå•å…ƒåŒºé—´ã€‚
- ä»ä¸‹å¾€ä¸Šæ›´æ–°æ¯ä¸ªéå¶å­èŠ‚ç‚¹çš„é¢å¤–ä¿¡æ¯ã€‚

çº¿æ®µæ ‘çš„å»ºæ ‘è¿‡ç¨‹å¯ä»¥ç”¨é€’å½’å®ç°ï¼Œä»£ç å¦‚ä¸‹ï¼š

```c++
//å®šä¹‰çº¿æ®µæ ‘ç»“ç‚¹ç»“æ„ä½“
struct Node {
    int left, right; //è¡¨ç¤ºåŒºé—´çš„å·¦å³ç«¯ç‚¹
    int sum; //è¡¨ç¤ºåŒºé—´å’Œ
    Node *leftChild, *rightChild; //è¡¨ç¤ºå·¦å³å­èŠ‚ç‚¹
};

//å®šä¹‰æ•°ç»„aï¼Œå­˜å‚¨åŸå§‹æ•°æ®
int a[N];

//å®šä¹‰å‡½æ•°buildï¼Œç”¨äºå»ºç«‹çº¿æ®µæ ‘
//å‚æ•°rootè¡¨ç¤ºå½“å‰è¦å»ºç«‹çš„èŠ‚ç‚¹ï¼Œlå’Œrè¡¨ç¤ºå½“å‰èŠ‚ç‚¹æ‰€è¡¨ç¤ºçš„åŒºé—´
void build(Node *root, int l, int r) {
    root->left = l; //è®¾ç½®å½“å‰èŠ‚ç‚¹çš„å·¦ç«¯ç‚¹
    root->right = r; //è®¾ç½®å½“å‰èŠ‚ç‚¹çš„å³ç«¯ç‚¹
    if (l == r) { //å¦‚æœå½“å‰èŠ‚ç‚¹æ˜¯å¶å­èŠ‚ç‚¹
        root->sum = a[l]; //è®¾ç½®å½“å‰èŠ‚ç‚¹çš„åŒºé—´å’Œä¸ºa[l]
        return; //é€’å½’ç»“æŸ
    }
    int mid = (l + r) / 2; //è®¡ç®—å½“å‰åŒºé—´çš„ä¸­ç‚¹
    root->leftChild = new Node(); //åˆ›å»ºå·¦å­èŠ‚ç‚¹
    root->rightChild = new Node(); //åˆ›å»ºå³å­èŠ‚ç‚¹
    build(root->leftChild, l, mid); //é€’å½’å»ºç«‹å·¦å­æ ‘
    build(root->rightChild, mid + 1, r); //é€’å½’å»ºç«‹å³å­æ ‘
    root->sum = root->leftChild->sum + root->rightChild->sum; //æ›´æ–°å½“å‰èŠ‚ç‚¹çš„åŒºé—´å’Œ
}
```

è¿™åªæ˜¯çº¿æ®µæ ‘çš„åŸºæœ¬ä»‹ç»ï¼Œæ›´å¤šç»†èŠ‚å’Œåº”ç”¨å¯ä»¥å‚è€ƒä»¥ä¸‹ç½‘ç«™<sup>3</sup> <sup>4</sup> <sup>5</sup>ã€‚

\-
\[1]: [ã€ç®—æ³•ã€‘çº¿æ®µæ ‘è¯¦è§£_huangzihaoalçš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/huangzihaoal/article/details/81813454)
\[2]: [çº¿æ®µæ ‘ï¼ˆsegment treeï¼‰ï¼Œçœ‹è¿™ä¸€ç¯‡å°±å¤Ÿäº† - ç®€ä¹¦](https://www.jianshu.com/p/6fd130084a43)
\[3]: [ç®—æ³•å­¦ä¹ ç¬”è®°(14): çº¿æ®µæ ‘ - çŸ¥ä¹ - çŸ¥ä¹ä¸“æ ](https://zhuanlan.zhihu.com/p/106118909)
\[4]: [çº¿æ®µæ ‘ - OI Wiki](https://oi-wiki.org/ds/seg/)
\[5]: [çº¿æ®µæ ‘è¯¦è§£ä¸å®ç° - çŸ¥ä¹ - çŸ¥ä¹ä¸“æ ](https://zhuanlan.zhihu.com/p/174810030)

<hr/>

Question:

çº¿æ®µæ ‘å’ŒäºŒå‰ç´¢å¼•æ ‘çš„å¼‚åŒ

Answer:

æŠ±æ­‰ï¼Œæˆ‘æ²¡æœ‰æ‰¾åˆ°ç›¸å…³çš„ä¿¡æ¯ã€‚ä½ èƒ½æ¢ä¸ªé—®é¢˜å—ï¼ŸğŸ™


<hr/>

Question:

çº¿æ®µæ ‘å’ŒäºŒå‰ç´¢å¼•æ ‘çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ

Answer:

æŠ±æ­‰ï¼Œæˆ‘è¿˜æ˜¯æ²¡æœ‰æ‰¾åˆ°ç›¸å…³çš„ä¿¡æ¯ã€‚ä½ èƒ½å†æ¢ä¸ªé—®é¢˜å—ï¼ŸğŸ™


<hr/>

