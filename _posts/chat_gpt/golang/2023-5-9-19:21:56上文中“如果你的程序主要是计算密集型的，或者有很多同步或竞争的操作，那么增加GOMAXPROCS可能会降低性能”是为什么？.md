---
layout: post
categories: golang
---
Question:

Reply in Chinese (Simplified).
The following is a search input in a search engine, giving useful content or solutions and as much information as you can related to it, use markdown syntax to make your answer more readable, such as code blocks, bold, list:
å¹¶ä¸æ˜¯è¯´GOMAXPROCSè¶Šå¤§ï¼Œé€Ÿåº¦å°±è¶Šå¿«â€æ˜¯ä¸ºä»€ä¹ˆï¼Ÿ

Answer:

ä½ å¥½ï¼Œè¿™æ˜¯Bingã€‚æˆ‘ä¼šç”¨ç®€ä½“ä¸­æ–‡å›ç­”ä½ çš„é—®é¢˜ã€‚ğŸ˜Š

GOMAXPROCSæ˜¯ä¸€ä¸ªå˜é‡ï¼Œå®ƒæ§åˆ¶äº†åœ¨ä½ çš„ç¨‹åºä¸­å¯ä»¥åŒæ—¶æ‰§è¡Œç”¨æˆ·çº§Goä»£ç çš„æ“ä½œç³»ç»Ÿçº¿ç¨‹çš„æ•°é‡<sup>1</sup> <sup>2</sup> <sup>3</sup>ã€‚ä»Go 1.5å¼€å§‹ï¼ŒGOMAXPROCSçš„é»˜è®¤å€¼æ˜¯ç¨‹åºå¯åŠ¨æ—¶å¯è§çš„CPUçš„æ•°é‡ï¼ˆæ— è®ºä½ çš„æ“ä½œç³»ç»Ÿè®¤ä¸ºä»€ä¹ˆæ˜¯CPUï¼‰<sup>1</sup> <sup>5</sup>ã€‚

å¹¶ä¸æ˜¯è¯´GOMAXPROCSè¶Šå¤§ï¼Œé€Ÿåº¦å°±è¶Šå¿«ï¼Œå› ä¸ºè¿™å–å†³äºä½ çš„ç¨‹åºçš„ç‰¹æ€§å’Œè´Ÿè½½ã€‚å¦‚æœä½ çš„ç¨‹åºæœ‰å¾ˆå¤šé˜»å¡çš„ç³»ç»Ÿè°ƒç”¨ï¼Œé‚£ä¹ˆå¢åŠ GOMAXPROCSå¯èƒ½ä¼šæé«˜å¹¶å‘æ€§èƒ½ï¼Œå› ä¸ºè¿™æ ·å¯ä»¥è®©æ›´å¤šçš„Goä»£ç åœ¨å…¶ä»–çº¿ç¨‹ä¸Šè¿è¡Œ<sup>2</sup> <sup>4</sup>ã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ çš„ç¨‹åºä¸»è¦æ˜¯è®¡ç®—å¯†é›†å‹çš„ï¼Œæˆ–è€…æœ‰å¾ˆå¤šåŒæ­¥æˆ–ç«äº‰çš„æ“ä½œï¼Œé‚£ä¹ˆå¢åŠ GOMAXPROCSå¯èƒ½ä¼šé™ä½æ€§èƒ½ï¼Œå› ä¸ºè¿™æ ·ä¼šå¢åŠ çº¿ç¨‹åˆ‡æ¢å’Œå†…å­˜ä½¿ç”¨çš„å¼€é”€<sup>2</sup> <sup>4</sup>ã€‚

æ‰€ä»¥ï¼Œæœ€ä½³çš„GOMAXPROCSå€¼å–å†³äºä½ çš„ç¨‹åºå’Œè¿è¡Œç¯å¢ƒã€‚ä½ å¯ä»¥é€šè¿‡å®éªŒæˆ–åŸºå‡†æµ‹è¯•æ¥æ‰¾åˆ°æœ€é€‚åˆä½ çš„æƒ…å†µçš„å€¼<sup>2</sup> <sup>4</sup>ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨runtime.NumCPU()å‡½æ•°æ¥è·å–å¯ç”¨CPUçš„æ•°é‡ï¼Œæˆ–è€…ä½¿ç”¨runtime.GOMAXPROCS()å‡½æ•°æ¥æŸ¥è¯¢æˆ–æ›´æ”¹GOMAXPROCSçš„å€¼<sup>3</sup>ã€‚

\-
\[1]: [GOMAXPROCS | Dave Cheney](https://dave.cheney.net/tag/gomaxprocs)
\[2]: [Golang - Number of Threads in the Running Program - SoByte](https://www.sobyte.net/post/2021-06/golang-number-of-threads-in-the-running-program/)
\[3]: [runtime package - runtime - Go Packages](https://pkg.go.dev/runtime)
\[4]: [Go 1.5 GOMAXPROCS Default - Google Docs](https://docs.google.com/document/d/1At2Ls5_fhJQ59kDK2DFVhFu3g5mATSXqqV5QrxinasI/edit)
\[5]: [What is the GOMAXPROCS default value? - Stack Overflow](https://stackoverflow.com/questions/17853831/what-is-the-gomaxprocs-default-value)

<hr/>

Question:

ä¸Šæ–‡ä¸­â€œå¦‚æœä½ çš„ç¨‹åºä¸»è¦æ˜¯è®¡ç®—å¯†é›†å‹çš„ï¼Œæˆ–è€…æœ‰å¾ˆå¤šåŒæ­¥æˆ–ç«äº‰çš„æ“ä½œï¼Œé‚£ä¹ˆå¢åŠ GOMAXPROCSå¯èƒ½ä¼šé™ä½æ€§èƒ½â€æ˜¯ä¸ºä»€ä¹ˆï¼Ÿ

Answer:

è¿™æ˜¯å› ä¸ºå¢åŠ GOMAXPROCSä¼šå¯¼è‡´ä»¥ä¸‹å‡ ä¸ªé—®é¢˜<sup>1</sup> <sup>2</sup> <sup>4</sup>ï¼š

- å¢åŠ çº¿ç¨‹åˆ‡æ¢çš„å¼€é”€ï¼Œå› ä¸ºæ¯ä¸ªçº¿ç¨‹éƒ½éœ€è¦ä¿å­˜å’Œæ¢å¤å¯„å­˜å™¨å’Œæ ˆç©ºé—´ã€‚
- å¢åŠ å†…å­˜ä½¿ç”¨å’Œåƒåœ¾å›æ”¶çš„å¼€é”€ï¼Œå› ä¸ºæ¯ä¸ªçº¿ç¨‹éƒ½éœ€è¦åˆ†é…ä¸€å®šçš„æ ˆç©ºé—´å’Œå †ç©ºé—´ã€‚
- å¢åŠ ç«äº‰å’ŒåŒæ­¥çš„å¼€é”€ï¼Œå› ä¸ºå¤šä¸ªçº¿ç¨‹éœ€è¦è®¿é—®å…±äº«çš„æ•°æ®ç»“æ„å’Œèµ„æºï¼Œä¾‹å¦‚è°ƒåº¦å™¨ã€é€šé“ã€é”ç­‰ã€‚

æ‰€ä»¥ï¼Œå¦‚æœä½ çš„ç¨‹åºä¸»è¦æ˜¯è®¡ç®—å¯†é›†å‹çš„ï¼Œæˆ–è€…æœ‰å¾ˆå¤šåŒæ­¥æˆ–ç«äº‰çš„æ“ä½œï¼Œé‚£ä¹ˆå¢åŠ GOMAXPROCSå¯èƒ½ä¼šé™ä½æ€§èƒ½ï¼Œè€Œä¸æ˜¯æé«˜æ€§èƒ½ã€‚<sup>1</sup> <sup>2</sup> <sup>4</sup>ã€‚ä½ å¯ä»¥é€šè¿‡ç›‘æ§ä½ çš„ç¨‹åºçš„CPUä½¿ç”¨ç‡ã€å†…å­˜ä½¿ç”¨ç‡ã€çº¿ç¨‹æ•°é‡ã€åƒåœ¾å›æ”¶æ—¶é—´ç­‰æŒ‡æ ‡æ¥è¯„ä¼°ä½ çš„ç¨‹åºçš„æ€§èƒ½å’Œå¹¶å‘æ•ˆç‡<sup>5</sup>ã€‚

\-
\[1]: [performance - What if GOMAXPROCS is too large? - Stack Overflow](https://stackoverflow.com/questions/57215184/what-if-gomaxprocs-is-too-large)
\[2]: [About GOMAXPROCS | Go Systems Programming - Packt](https://subscription.packtpub.com/book/programming/9781787125643/10/ch10lvl1sec11/about-gomaxprocs)
\[3]: [GOMAXPROCS for Go service in Kubernetes - Stack Overflow](https://stackoverflow.com/questions/61113823/gomaxprocs-for-go-service-in-kubernetes)
\[4]: [Techniques to Maximize Your Go Applicationâ€™s Performance - GoLang Docs](https://golangdocs.com/techniques-to-maximize-your-go-applications-performance)
\[5]: [Go 1.5 GOMAXPROCS Default - Google Docs](https://docs.google.com/document/d/1At2Ls5_fhJQ59kDK2DFVhFu3g5mATSXqqV5QrxinasI/edit)

<hr/>

