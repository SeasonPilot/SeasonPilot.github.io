Question:

Reply in Chinese (Simplified).
The following is a search input in a search engine, giving useful content or solutions and as much information as you can related to it, use markdown syntax to make your answer more readable, such as code blocks, bold, list:
# k8s.io/component-base/config ../../workspace/golang/pkg/mod/k8s.io/component-base@v0.24.0/config/types.go:128:26: undefined: resource.QuantityValue

Answer:

ä½ å¥½ï¼Œè¿™æ˜¯å¿…åº”ã€‚æˆ‘å¯ä»¥å¸®ä½ è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ğŸ˜Š

æ ¹æ®æœç´¢ç»“æœï¼Œè¿™ä¸ªé”™è¯¯å¯èƒ½æ˜¯ç”±äºä½ æ²¡æœ‰æ­£ç¡®åœ°å¯¼å…¥ **k8s.io/apimachinery/pkg/api/resource** åŒ…ï¼Œæˆ–è€…ä½ çš„ **k8s.io/component-base** ç‰ˆæœ¬å’Œ **k8s.io/apimachinery** ç‰ˆæœ¬ä¸å…¼å®¹å¯¼è‡´çš„<sup>4</sup> <sup>5</sup> <sup>6</sup>ã€‚

ä½ å¯ä»¥å°è¯•ä»¥ä¸‹å‡ ä¸ªè§£å†³æ–¹æ¡ˆï¼š

- ç¡®ä¿ä½ çš„ **go.mod** æ–‡ä»¶ä¸­æœ‰ **k8s.io/apimachinery** åŒ…çš„ä¾èµ–ï¼Œå¹¶ä¸”ç‰ˆæœ¬å’Œ **k8s.io/component-base** åŒ…çš„ç‰ˆæœ¬ä¸€è‡´ã€‚
- åœ¨ä½ çš„ä»£ç ä¸­ï¼Œä½¿ç”¨ `import "k8s.io/apimachinery/pkg/api/resource"` è¯­å¥æ¥å¯¼å…¥ **resource** åŒ…ã€‚
- å¦‚æœä½ ä½¿ç”¨äº† **resource.QuantityValue** ç±»å‹çš„å˜é‡ï¼Œç¡®ä¿ä½ ä½¿ç”¨äº†æ­£ç¡®çš„æ–¹æ³•æ¥åˆ›å»ºå’Œæ“ä½œå®ƒä»¬ï¼Œä¾‹å¦‚ `resource.NewQuantity()` æˆ– `resource.ParseQuantity()`ã€‚

å¸Œæœ›è¿™äº›ä¿¡æ¯å¯¹ä½ æœ‰å¸®åŠ©ã€‚å¦‚æœä½ è¿˜æœ‰å…¶ä»–é—®é¢˜ï¼Œè¯·ç»§ç»­æé—®ã€‚ğŸ˜Š

\-
\[1]: [k8s.io/apimachinery/pkg/api/resource - Go Packages](https://pkg.go.dev/k8s.io/apimachinery/pkg/api/resource)
\[2]: [eventing/quantity.go at main Â· knative/eventing Â· GitHub](https://github.com/knative/eventing/blob/main/vendor/k8s.io/apimachinery/pkg/api/resource/quantity.go)
\[3]: [How to provide resource limits in kubernetes go client pod spec?](https://stackoverflow.com/questions/52983173/how-to-provide-resource-limits-in-kubernetes-go-client-pod-spec)
\[4]: [Kubernetes failed to pull image k8s.gcr.io - Stack Overflow](https://stackoverflow.com/questions/64229221/kubernetes-failed-to-pull-image-k8s-gcr-io)
\[5]: [component-base/defaults.go at master - GitHub](https://github.com/kubernetes/component-base/blob/master/config/v1alpha1/defaults.go)
\[6]: [Kubernetes Components | Kubernetes](https://kubernetes.io/docs/concepts/overview/components/)

<hr/>

Question:

go.mod ä¸­ require  replace ä¸­æœ‰ç›¸åŒçš„åŒ…ï¼Œä½†æ˜¯ç‰ˆæœ¬ä¸åŒï¼Œå®é™…ä½¿ç”¨çš„æ˜¯å“ªä¸ªç‰ˆæœ¬ï¼Ÿ

Answer:

æ ¹æ®æœç´¢ç»“æœï¼Œå¦‚æœä½ åœ¨ **go.mod** æ–‡ä»¶ä¸­ä½¿ç”¨äº† **replace** æŒ‡ä»¤æ¥æ›¿æ¢ä¸€ä¸ªåŒ…çš„ç‰ˆæœ¬ï¼Œé‚£ä¹ˆä½ è¿˜éœ€è¦åœ¨ **require** æŒ‡ä»¤ä¸­æŒ‡å®šä¸€ä¸ªç›¸åŒçš„ç‰ˆæœ¬<sup>4</sup> <sup>5</sup>ã€‚è¿™ä¸ªç‰ˆæœ¬å¯ä»¥æ˜¯ä¸€ä¸ªä¸å­˜åœ¨çš„ç‰ˆæœ¬ï¼Œä¾‹å¦‚ `v0.0.0-local`<sup>1</sup>ã€‚è¿™æ ·åšçš„ç›®çš„æ˜¯è®© **go** å‘½ä»¤çŸ¥é“ä½ è¦æ›¿æ¢çš„æ˜¯å“ªä¸ªç‰ˆæœ¬çš„åŒ…<sup>4</sup>ã€‚

ä¾‹å¦‚ï¼Œå¦‚æœä½ æƒ³æŠŠ **example.com/mod** åŒ…æ›¿æ¢ä¸ºæœ¬åœ°è·¯å¾„ `../local`ï¼Œä½ å¯ä»¥è¿™æ ·å†™ï¼š

```
require example.com/mod v0.0.0-local
replace example.com/mod v0.0.0-local => ../local
```

è¿™æ ·ï¼Œå½“ä½ ç¼–è¯‘æˆ–è¿è¡Œä½ çš„ä»£ç æ—¶ï¼Œ**go** å‘½ä»¤ä¼šä¼˜å…ˆä½¿ç”¨æœ¬åœ°è·¯å¾„ `../local` ä¸­çš„åŒ…ï¼Œè€Œä¸ä¼šå»ç½‘ç»œä¸ŠæŸ¥æ‰¾å…¶ä»–ç‰ˆæœ¬çš„åŒ…<sup>1</sup>ã€‚

å¸Œæœ›è¿™äº›ä¿¡æ¯å¯¹ä½ æœ‰å¸®åŠ©ã€‚å¦‚æœä½ è¿˜æœ‰å…¶ä»–é—®é¢˜ï¼Œè¯·ç»§ç»­æé—®ã€‚ğŸ˜Š

\-
\[1]: [go.mod file reference - The Go Programming Language](https://go.dev/doc/modules/gomod-ref)
\[2]: [Go Modules Reference - The Go Programming Language](https://go.dev/ref/mod)
\[3]: [Go module is found and replaced, But not required](https://stackoverflow.com/questions/66469396/go-module-is-found-and-replaced-but-not-required)
\[4]: [Working with Go Modules â€“ Versioning | The GoLand Blog](https://blog.jetbrains.com/go/2020/03/25/working-with-go-modules-versioning/)
\[5]: [cmd/go: go.work: `go build` requires versioned replace directive when ...](https://github.com/golang/go/issues/54264)
\[6]: [How to upgrade the go version in a go mod - Stack Overflow](https://stackoverflow.com/questions/60675415/how-to-upgrade-the-go-version-in-a-go-mod)

<hr/>

Question:

```
require (
	k8s.io/apimachinery v0.26.0
)
replace (
	k8s.io/apimachinery => k8s.io/apimachinery v0.20.4
)
```
å®é™…ä½¿ç”¨çš„é‚£ä¸ªç‰ˆæœ¬çš„åŒ…

Answer:

æ ¹æ®ä½ çš„ **go.mod** æ–‡ä»¶ï¼Œä½ å®é™…ä½¿ç”¨çš„æ˜¯ **k8s.io/apimachinery v0.20.4** ç‰ˆæœ¬çš„åŒ…ï¼Œå› ä¸ºä½ ç”¨ **replace** æŒ‡ä»¤æŠŠ **k8s.io/apimachinery v0.26.0** æ›¿æ¢æˆäº† **k8s.io/apimachinery v0.20.4**ã€‚è¿™æ„å‘³ç€ä½ çš„ä»£ç ä¼šä½¿ç”¨ **k8s.io/apimachinery v0.20.4** ä¸­å®šä¹‰çš„ç±»å‹å’Œå‡½æ•°ï¼Œè€Œä¸æ˜¯ **k8s.io/apimachinery v0.26.0** ä¸­çš„ã€‚

å¦‚æœä½ æƒ³ä½¿ç”¨ **k8s.io/apimachinery v0.26.0** ç‰ˆæœ¬çš„åŒ…ï¼Œä½ å¯ä»¥åˆ é™¤ **replace** æŒ‡ä»¤ï¼Œæˆ–è€…æŠŠå®ƒæ”¹æˆï¼š

```
replace k8s.io/apimachinery => k8s.io/apimachinery v0.26.0
```

å¸Œæœ›è¿™äº›ä¿¡æ¯å¯¹ä½ æœ‰å¸®åŠ©ã€‚å¦‚æœä½ è¿˜æœ‰å…¶ä»–é—®é¢˜ï¼Œè¯·ç»§ç»­æé—®ã€‚ğŸ˜Š


<hr/>

