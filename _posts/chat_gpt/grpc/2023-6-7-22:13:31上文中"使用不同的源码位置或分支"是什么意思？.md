Question:

Reply in Chinese (Simplified).
The following is the text content of a web page,analyze the core content and summarize:
Comments
joshmsamuels commentedâ€¢ 
edited 
What version of Go are you using (go version),$ go version
go version go1.12.5 darwin/amd64Does this issue reproduce with the latest release,I am not sure (I am 1 patch version away from the latest release)What operating system and processor architecture are you using (go env),go get ./... in the project rootWhat did you expect to see,I expected to see a list of all my dependencies being downloaded successfullyWhat did you see instead,go-get=1
go: finding github.com/dsnet/compress/bzip2 latest
go: finding github.com/xi2/xz latest
Parsing meta tags from https://k8s.io/kubernetes/pkg/kubectl,go-get=1 (status code 200)
get "k8s.io/kubernetes/pkg/kubectl": found meta tag get.metaImport{Prefix:"k8s.io/kubernetes",VCS:"git",RepoRoot:"https://github.com/kubernetes/kubernetes"} at https://k8s.io/kubernetes/pkg/kubectl,go-get=1
get "k8s.io/kubernetes/pkg/kubectl": verifying non-authoritative meta tag
Fetching https://k8s.io/kubernetes,go-get=1
Parsing meta tags from https://k8s.io/kubernetes,go-get=1
Parsing meta tags from https://k8s.io/kubernetes/pkg,go-get=1
get "k8s.io/kubernetes/pkg": verifying non-authoritative meta tag
go: finding k8s.io/kubernetes/pkg latest
Fetching https://k8s.io/kubernetes,RepoRoot:"https://github.com/kubernetes/kubernetes"} at https://k8s.io/kubernetes,go-get=1
Fetching https://k8s.io/client-go,go-get=1
Fetching https://k8s.io/kube-scheduler,RepoRoot:"https://github.com/kubernetes/kube-aggregator"} at https://k8s.io/kube-aggregator,VCS:"git",VCS:"git",VCS:"git",go-get=1 (status code 200)
get "k8s.io/legacy-cloud-providers": found meta tag get.metaImport{Prefix:"k8s.io/legacy-cloud-providers",go-get=1 (status code 200)
get "k8s.io/kube-controller-manager": found meta tag get.metaImport{Prefix:"k8s.io/kube-controller-manager",go-get=1
go: k8s.io/kube-aggregator@v0.0.0: unknown revision v0.0.0
Fetching https://k8s.io/sample-apiserver,go-get=1
go: k8s.io/kube-controller-manager@v0.0.0: unknown revision v0.0.0
Fetching https://k8s.io/apimachinery,VCS:"git",go-get=1 (status code 200)
get "k8s.io/sample-apiserver": found meta tag get.metaImport{Prefix:"k8s.io/sample-apiserver",go-get=1
get "k8s.io/component-base": found meta tag get.metaImport{Prefix:"k8s.io/component-base",go-get=1 (status code 200)
get "k8s.io/cluster-bootstrap": found meta tag get.metaImport{Prefix:"k8s.io/cluster-bootstrap",go-get=1 (status code 200)
Parsing meta tags from https://k8s.io/code-generator,RepoRoot:"https://github.com/kubernetes/code-generator"} at https://k8s.io/code-generator,go-get=1
go: finding k8s.io/code-generator v0.0.0
go: finding k8s.io/apimachinery v0.0.0
Parsing meta tags from https://golang.org/x/net,go-get=1
go: finding golang.org/x/net v0.0.0-20190311183353-d8887717615a
go: finding github.com/matttproud/golang_protobuf_extensions v1.0.1
go: k8s.io/metrics@v0.0.0: unknown revision v0.0.0
Fetching https://k8s.io/cli-runtime,go-get=1
go: k8s.io/sample-apiserver@v0.0.0: unknown revision v0.0.0
Fetching https://k8s.io/csi-translation-lib,RepoRoot:"https://github.com/kubernetes/cli-runtime"} at https://k8s.io/cli-runtime,VCS:"git",go-get=1 (status code 200)
get "k8s.io/api": found meta tag get.metaImport{Prefix:"k8s.io/api",go-get=1 (status code 200)
get "k8s.io/csi-translation-lib": found meta tag get.metaImport{Prefix:"k8s.io/csi-translation-lib",go-get=1 (status code 200)
Fetching https://k8s.io/cri-api,RepoRoot:"https://go.googlesource.com/sync"} at https://golang.org/x/sync,RepoRoot:"https://github.com/kubernetes/cri-api"} at https://k8s.io/cri-api,go-get=1
Parsing meta tags from https://k8s.io/apiextensions-apiserver,RepoRoot:"https://github.com/kubernetes/apiextensions-apiserver"} at https://k8s.io/apiextensions-apiserver,RepoRoot:"https://github.com/kubernetes/kube-proxy"} at https://k8s.io/kube-proxy,RepoRoot:"https://github.com/kubernetes/cloud-provider"} at https://k8s.io/cloud-provider,Contributor
thepudds commented Looks like go get doesn't look into replace directives,replace,but only through their go.mod files' require statements: any replace and exclude statements in dependency modules are ignored. The replace and exclude statements therefore allow the main module complete control over its own build,dfang,muka,and Hello-World-0X reacted with thumbs up emoji
Author
joshmsamuels commented @liggitt I am not using kubernetes/kubernetes. I am using client-goThese are some of the ones I am using	"k8s.io/client-go/kubernetes"
	"k8s.io/client-go/rest"
	"k8s.io/client-go/tools/clientcmd"Contributor
thepudds commented @joshmsamuels could you try to put together a minimal set of steps to reproduce,go mod init tempmod,ğŸ‘
1
jayconrod reacted with thumbs up emoji
Author
joshmsamuels commented @thepudds Should I like make a main.go for that then,the replace directives there will work,you shouldn't have a problem.Contributor
liggitt commented I am not using kubernetes/kubernetesThe "Fetching https://k8s.io/kubernetes/pkg/kubectl" text indicates something in your dependency tree is requiring that repoAuthor
joshmsamuels commented @liggitt I missed that one sorry ğŸ™ƒContributor
thepudds commentedâ€¢ 
edited @thepudds Should I like make a main.go for that then,Its been working as expected for the last 2 monthsContributor
liggitt commented If you want to consume k8s.io/kubernetes as a module,and there are a slew of PRs migrating pkg/kubectl to the published repo (like kubernetes/kubernetes#79207) which should get merged in the next week or so.(this is more kubernetes,

Answer:

æ‚¨å¥½ï¼Œè¿™æ˜¯å¿…åº”ã€‚æˆ‘å¯ä»¥ç”¨ä¸­æ–‡å›å¤æ‚¨ã€‚ğŸ˜Š

æ‚¨ç»™å‡ºçš„ç½‘é¡µå†…å®¹æ˜¯ä¸€ä¸ªå…³äºGoè¯­è¨€çš„é—®é¢˜å’Œè¯„è®ºã€‚é—®é¢˜æ˜¯å…³äºä½¿ç”¨go getå‘½ä»¤æ—¶é‡åˆ°çš„ä¸€äº›é”™è¯¯ä¿¡æ¯ï¼Œè¯„è®ºæ˜¯ä¸€äº›æä¾›å¸®åŠ©æˆ–è§£é‡Šçš„å›ç­”ã€‚é—®é¢˜å’Œè¯„è®ºçš„æ ¸å¿ƒå†…å®¹å¯ä»¥æ€»ç»“ä¸ºï¼š

- é—®é¢˜ï¼šä½¿ç”¨go getå‘½ä»¤æ—¶ï¼Œå¦‚ä½•å¤„ç†ä¾èµ–æ¨¡å—ä¸­çš„replaceæŒ‡ä»¤ï¼Ÿ
- å›ç­”ï¼šgo getå‘½ä»¤ä¸ä¼šåº”ç”¨ä¾èµ–æ¨¡å—ä¸­çš„replaceæŒ‡ä»¤ï¼Œåªä¼šåº”ç”¨ä¸»æ¨¡å—ä¸­çš„replaceæŒ‡ä»¤<sup>1</sup>ã€‚å¦‚æœè¦ä½¿ç”¨æœ¬åœ°çš„æ¨¡å—ä»£ç ï¼Œå¯ä»¥åœ¨ä¸»æ¨¡å—çš„go.modæ–‡ä»¶ä¸­ä½¿ç”¨replaceæŒ‡ä»¤æ¥æ›¿æ¢requireæŒ‡ä»¤ä¸­çš„æ¨¡å—è·¯å¾„<sup>2</sup> <sup>3</sup> <sup>4</sup>ã€‚å¦‚æœè¦ä½¿ç”¨k8s.io/kubernetesä½œä¸ºä¸€ä¸ªæ¨¡å—ï¼Œéœ€è¦åœ¨ä¸»æ¨¡å—çš„go.modæ–‡ä»¶ä¸­æ·»åŠ replaceæŒ‡ä»¤æ¥æŒ‡å®šç‰ˆæœ¬å’Œæºç ä½ç½®[^5^ã€‚

æ‚¨å¯¹è¿™ä¸ªé—®é¢˜æ„Ÿå…´è¶£å—ï¼Ÿæ‚¨æƒ³äº†è§£æ›´å¤šå…³äºGoè¯­è¨€æˆ–k8s.io/kubernetesçš„ä¿¡æ¯å—ï¼Ÿ

\-
\[1]: [cmd/go: 'go install' should install executables in module mode outside ...](https://github.com/golang/go/issues/40276)
\[2]: [go.mod file reference - The Go Programming Language](https://go.dev/doc/modules/gomod-ref)
\[3]: [Go Modules Reference - The Go Programming Language](https://go.dev/ref/mod)
\[4]: [Managing dependencies - The Go Programming Language](https://go.dev/doc/modules/managing-dependencies)

<hr/>

Question:

replace

Answer:

replaceæ˜¯ä¸€ä¸ªGoè¯­è¨€ä¸­çš„æŒ‡ä»¤ï¼Œç”¨äºåœ¨go.modæ–‡ä»¶ä¸­æ›¿æ¢æ¨¡å—çš„è·¯å¾„æˆ–ç‰ˆæœ¬ã€‚å®ƒå¯ä»¥ç”¨äºæŒ‡å®šæœ¬åœ°çš„æ¨¡å—ä»£ç ï¼Œæˆ–è€…ä½¿ç”¨ä¸åŒçš„æºç ä½ç½®æˆ–åˆ†æ”¯ã€‚æ‚¨å¯ä»¥åœ¨è¿™é‡Œ[^2^ [^3^ [^4^æŸ¥çœ‹æ›´å¤šå…³äºreplaceæŒ‡ä»¤çš„ä¿¡æ¯ã€‚

æ‚¨è¿˜æœ‰å…¶ä»–å…³äºGoè¯­è¨€æˆ–k8s.io/kubernetesçš„é—®é¢˜å—ï¼Ÿ


<hr/>

Question:

ä¸Šæ–‡ä¸­"ä½¿ç”¨ä¸åŒçš„æºç ä½ç½®æˆ–åˆ†æ”¯"æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ

Answer:

ä½¿ç”¨ä¸åŒçš„æºç ä½ç½®æˆ–åˆ†æ”¯ï¼Œæ„æ€æ˜¯æ‚¨å¯ä»¥ç”¨replaceæŒ‡ä»¤æ¥æŒ‡å®šä¸€ä¸ªæ¨¡å—çš„ä»£ç ä»å“ªé‡Œè·å–ï¼Œè€Œä¸æ˜¯é»˜è®¤çš„ä»“åº“ä½ç½®ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥ç”¨replaceæŒ‡ä»¤æ¥å¼•ç”¨ä¸€ä¸ªæ¨¡å—çš„forkç‰ˆæœ¬<sup>3</sup>ï¼Œæˆ–è€…ä¸€ä¸ªæœ¬åœ°çš„æ¨¡å—è·¯å¾„<sup>2</sup>ã€‚è¿™æ ·å¯ä»¥è®©æ‚¨é¿å…å¯¼å…¥ä¸€ä¸ªæœ‰é—®é¢˜çš„æ¨¡å—ç‰ˆæœ¬<sup>1</sup>ï¼Œæˆ–è€…æµ‹è¯•ä¸€äº›æœªå‘å¸ƒçš„ä»£ç ã€‚

æ‚¨æ˜ç™½äº†å—ï¼Ÿè¿˜æœ‰å…¶ä»–é—®é¢˜å—ï¼Ÿ

\-
\[1]: [git - How to replace a Go Module with a major version to a fork ...](https://stackoverflow.com/questions/72312460/how-to-replace-a-go-module-with-a-major-version-to-a-fork-master)
\[2]: [Using â€œreplaceâ€ in go.mod to point to your local module](https://thewebivore.com/using-replace-in-go-mod-to-point-to-your-local-module/)
\[3]: [Semantics of the Replace Directive - Getting Help - Go Forum](https://forum.golangbridge.org/t/semantics-of-the-replace-directive/26793)
\[4]: [Go Modules Reference - The Go Programming Language](https://go.dev/ref/mod)
\[5]: [go.mod file reference - The Go Programming Language](https://go.dev/doc/modules/gomod-ref)

<hr/>

