Question:

Reply in Chinese (Simplified).
The following is a search input in a search engine, giving useful content or solutions and as much information as you can related to it, use markdown syntax to make your answer more readable, such as code blocks, bold, list:
2. å½“ vmstorage OOM æˆ–è€…è¢«é©±é€æ—¶ï¼ŒåŒ AZ çš„ vmstorage å°†ä»£å¿é‡å¯æ—¶é—´å†…æŸå¤±å¯¼è‡´æ´»è·ƒæ—¶åºå‡é«˜

Answer:

æ‚¨å¥½ï¼Œè¿™æ˜¯å¿…åº”ã€‚æˆ‘ä¼šå°½åŠ›å›ç­”æ‚¨çš„é—®é¢˜ã€‚ğŸ˜Š

æ‚¨çš„é—®é¢˜æ˜¯ï¼š

> å½“ vmstorage OOM æˆ–è€…è¢«é©±é€æ—¶ï¼ŒåŒ AZ çš„ vmstorage å°†ä»£å¿é‡å¯æ—¶é—´å†…æŸå¤±å¯¼è‡´æ´»è·ƒæ—¶åºå‡é«˜

æ ¹æ®æˆ‘çš„æœç´¢ç»“æœï¼Œæˆ‘å¾—åˆ°ä»¥ä¸‹ä¿¡æ¯ï¼š

- vmstorage æ˜¯ä¸€ç§å­˜å‚¨è™šæ‹ŸåŒ–çš„æŠ€æœ¯ï¼Œå¯ä»¥åœ¨å¤šä¸ª ESXi ä¸»æœºä¹‹é—´å…±äº«å­˜å‚¨èµ„æº<sup>1</sup>ã€‚
- OOM æ˜¯ Out Of Memory çš„ç¼©å†™ï¼Œè¡¨ç¤ºå†…å­˜ä¸è¶³çš„æƒ…å†µã€‚å½“ vmstorage OOM æ—¶ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ€§èƒ½ä¸‹é™æˆ–è€…æœåŠ¡ä¸­æ–­<sup>2</sup>ã€‚
- è¢«é©±é€æ˜¯æŒ‡ vmstorage è¢«è¿ç§»æˆ–è€…åˆ é™¤ï¼Œé€šå¸¸æ˜¯ä¸ºäº†é‡Šæ”¾å­˜å‚¨ç©ºé—´æˆ–è€…ä¼˜åŒ–å­˜å‚¨æ€§èƒ½<sup>3</sup> <sup>4</sup>ã€‚
- åŒ AZ çš„ vmstorage æ˜¯æŒ‡åœ¨åŒä¸€ä¸ªå¯ç”¨åŒºåŸŸï¼ˆAvailability Zoneï¼‰çš„ vmstorage èŠ‚ç‚¹ï¼Œå®ƒä»¬ä¹‹é—´å¯ä»¥é€šè¿‡ç½‘ç»œè¿›è¡Œé€šä¿¡å’Œæ•°æ®å¤åˆ¶<sup>5</sup>ã€‚
- ä»£å¿é‡å¯æ—¶é—´å†…æŸå¤±æ˜¯æŒ‡å½“ä¸€ä¸ª vmstorage èŠ‚ç‚¹ OOM æˆ–è€…è¢«é©±é€æ—¶ï¼Œå…¶ä»–åŒ AZ çš„ vmstorage èŠ‚ç‚¹ä¼šæ¥ç®¡å®ƒçš„æ•°æ®å’Œè¯·æ±‚ï¼Œä»¥ä¿è¯æœåŠ¡çš„å¯ç”¨æ€§å’Œä¸€è‡´æ€§<sup>5</sup>ã€‚
- æ´»è·ƒæ—¶åºå‡é«˜æ˜¯æŒ‡å½“ä¸€ä¸ª vmstorage èŠ‚ç‚¹ OOM æˆ–è€…è¢«é©±é€æ—¶ï¼Œå…¶ä»–åŒ AZ çš„ vmstorage èŠ‚ç‚¹ä¼šæ‰¿æ‹…æ›´å¤šçš„æ•°æ®å’Œè¯·æ±‚ï¼Œä»è€Œå¢åŠ å®ƒä»¬çš„è´Ÿè½½å’Œèµ„æºæ¶ˆè€—<sup>6</sup>ã€‚

ç»¼ä¸Šæ‰€è¿°ï¼Œæ‚¨çš„é—®é¢˜å¯ä»¥ç†è§£ä¸ºï¼š

> å½“ä¸€ä¸ª vmstorage èŠ‚ç‚¹å› ä¸ºå†…å­˜ä¸è¶³æˆ–è€…è¢«è¿ç§»æˆ–è€…åˆ é™¤æ—¶ï¼Œå…¶ä»–åŒä¸€ä¸ªå¯ç”¨åŒºåŸŸçš„ vmstorage èŠ‚ç‚¹ä¼šæš‚æ—¶æ›¿ä»£å®ƒçš„åŠŸèƒ½ï¼Œä½†æ˜¯è¿™ä¼šå¯¼è‡´å®ƒä»¬çš„è´Ÿè½½å’Œèµ„æºæ¶ˆè€—å¢åŠ ã€‚

å¦‚æœæ‚¨æƒ³äº†è§£æ›´å¤šå…³äº vmstorage çš„ä¿¡æ¯ï¼Œæ‚¨å¯ä»¥å‚è€ƒä»¥ä¸‹é“¾æ¥ï¼š

<sup>1</sup>: [Introduction to Storage Virtualization | VMware](https://core.vmware.com/resource/introduction-storage-virtualization)
<sup>2</sup>: [Troubleshooting Â· VictoriaMetrics](https://docs.victoriametrics.com/Troubleshooting.html)
<sup>3</sup>: [Move-VMStorage (Hyper-V) | Microsoft Learn](https://learn.microsoft.com/en-us/powershell/module/hyper-v/move-vmstorage?view=windowsserver2022-ps)
<sup>4</sup>: [Virtual Machine Storage Policies - VMware Docs](https://docs.vmware.com/en/VMware-vSphere/7.0/com.vmware.vsphere.storage.doc/GUID-A8BA9141-31F1-4555-A554-4B5B04D75E54.html)
<sup>5</sup>: [victoriametrics é›†ç¾¤æ¶æ„ - è£é”‹äº® - åšå®¢å›­](https://www.cnblogs.com/rongfengliang/p/12793136.html)
<sup>6</sup>: [vminsert OOM when vmstorage io very slow #4140 - GitHub](https://github.com/VictoriaMetrics/VictoriaMetrics/issues/4140)

å¸Œæœ›è¿™äº›ä¿¡æ¯å¯¹æ‚¨æœ‰å¸®åŠ©ã€‚å¦‚æœæ‚¨è¿˜æœ‰å…¶ä»–é—®é¢˜ï¼Œè¯·éšæ—¶æé—®ã€‚ğŸ˜Š

\-
\[1]: [Introduction to Storage Virtualization | VMware](https://core.vmware.com/resource/introduction-storage-virtualization)
\[2]: [Troubleshooting Â· VictoriaMetrics](https://docs.victoriametrics.com/Troubleshooting.html)
\[3]: [vminsert OOM when vmstorage io very slow #4140 - GitHub](https://github.com/VictoriaMetrics/VictoriaMetrics/issues/4140)
\[4]: [Move-VMStorage (Hyper-V) | Microsoft Learn](https://learn.microsoft.com/en-us/powershell/module/hyper-v/move-vmstorage?view=windowsserver2022-ps)
\[5]: [Virtual Machine Storage Policies - VMware Docs](https://docs.vmware.com/en/VMware-vSphere/7.0/com.vmware.vsphere.storage.doc/GUID-A8BA9141-31F1-4555-A554-4B5B04D75E54.html)
\[6]: [victoriametrics é›†ç¾¤æ¶æ„ - è£é”‹äº® - åšå®¢å›­](https://www.cnblogs.com/rongfengliang/p/12793136.html)

<hr/>

